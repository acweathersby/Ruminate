var Rn=Object.defineProperty;var ds=s=>Rn(s,"__esModule",{value:!0});var Dt=(s,t)=>()=>(s&&(t=s(s=0)),t);var Ve=(s,t)=>{ds(s);for(var e in t)Rn(s,e,{get:t[e],enumerable:!0})};function Xs(){return _n||(_n=new X("internal-logger")),_n}var C,ki,Di,_n,dn,X,me=Dt(()=>{(function(s){s[s.CRITICAL=1]="CRITICAL",s[s.ERROR=2]="ERROR",s[s.WARN=4]="WARN",s[s.INFO=8]="INFO",s[s.DEBUG=16]="DEBUG",s[s.ALL=4294967295]="ALL"})(C||(C={}));ki=class{writeLog(t,e,n,...i){switch(e){case C.CRITICAL:console.error(t+">",...i);break;case C.ERROR:console.error(t+">",...i);break;case C.WARN:console.warn(t+">",...i);break;case C.INFO:console.info(t+">",...i);break;case C.DEBUG:console.debug(t+">",...i);break}}},Di=0,_n=null,dn=new Map;X=class{constructor(t,e=null){this._name=t,this.base_name=t,this.render_name=t,this.children=[],this.log_writers=[],this.parent=null,e&&this.addWriter(e),this.ACTIVE=Di}static get LogLevel(){return C}static get(t){return X.createLogger(t)}static createLogger(t){return dn.has(t)||dn.set(t,new X(t,new ki)),dn.get(t)}get LogLevel(){return C}static setDefaultLogLevel(t){Di=t}deactivate(t=C.CRITICAL|C.ERROR|C.WARN|C.DEBUG|C.INFO){this.ACTIVE&=~(4294967295&t);for(let e of this.children)e.deactivate(t);return this}activate(t=C.CRITICAL|C.ERROR|C.WARN|C.DEBUG|C.INFO){this.ACTIVE|=t;for(let e of this.children)e.activate(t);return this}rewrite_log(...t){if(this.ACTIVE&C.INFO)for(let e of this.log_writers)e.writeLog(this.render_name,C.INFO,!0,...t);return this}log(...t){if(this.ACTIVE&C.INFO)for(let e of this.log_writers)e.writeLog(this.render_name,C.INFO,!1,...t);return this}critical(...t){if(this.ACTIVE&C.CRITICAL)for(let e of this.log_writers)e.writeLog(this.render_name,C.CRITICAL,!1,...t);return this}error(...t){if(this.ACTIVE&C.ERROR)for(let e of this.log_writers)e.writeLog(this.render_name,C.ERROR,!1,...t);return this}warn(...t){if(this.ACTIVE&C.WARN)for(let e of this.log_writers)e.writeLog(this.render_name,C.WARN,!1,...t);return this}debug(...t){if(this.ACTIVE&C.DEBUG)for(let e of this.log_writers)e.writeLog(this.render_name,C.DEBUG,!1,...t);return this}clearWriters(){this.log_writers.length=0;for(let t of this.children)t.clearWriters()}addWriter(t){if(typeof t.writeLog=="function"){this.log_writers.push(t);for(let e of this.children)e.addWriter(t)}else Xs().warn(`Attempt to add writer to logger [${this.render_name}] failed: The writer does not have a valid [writeLog] method.`)}get name(){return this._name}set name(t){this._name=t,this.update_name()}createLogger(t){let e=X.createLogger(this.base_name+"-"+t);return e.parent||(this.children.push(e),e.log_writers=this.log_writers.slice(),e._name=t,e.parent=this,e.update_name(),e.ACTIVE=this.ACTIVE),e}get(t){return this.createLogger(t)}update_name(){this.render_name=(this?.parent?.render_name?this?.parent?.render_name+"-":"")+this._name;for(let t of this.children)t.update_name()}}});function lt(s){return(Ti&s)==s}function je(s){Ti|=s}var Ti,z,Ft=Dt(()=>{Ti=0;(function(i){i[i.WICK=4]="WICK",i[i.RADIATE=1]="RADIATE",i[i.WORKSPACE=2]="WORKSPACE",i[i.APP=8]="APP"})(z||(z={}))});var Li,St,T,Ri,Ii,gn=Dt(()=>{(function(b){b[b.UNDECLARED=0]="UNDECLARED",b[b.INTERNAL_VARIABLE=1]="INTERNAL_VARIABLE",b[b.ATTRIBUTE_VARIABLE=2]="ATTRIBUTE_VARIABLE",b[b.MODEL_VARIABLE=4]="MODEL_VARIABLE",b[b.MODEL_DIRECT=512]="MODEL_DIRECT",b[b.TEMPLATE_CONSTANT=1024]="TEMPLATE_CONSTANT",b[b.TEMPLATE_INITIALIZER=2048]="TEMPLATE_INITIALIZER",b[b.TEMPLATE_DATA=8192]="TEMPLATE_DATA",b[b.CURE_TEST=4096]="CURE_TEST",b[b.CONFIG_GLOBAL=8192]="CONFIG_GLOBAL",b[b.GLOBAL_VARIABLE=8]="GLOBAL_VARIABLE",b[b.METHOD_VARIABLE=16]="METHOD_VARIABLE",b[b.CONST_INTERNAL_VARIABLE=32]="CONST_INTERNAL_VARIABLE",b[b.MODULE_MEMBER_VARIABLE=64]="MODULE_MEMBER_VARIABLE",b[b.MODULE_VARIABLE=128]="MODULE_VARIABLE",b[b.MODULE_NAMESPACE_VARIABLE=256]="MODULE_NAMESPACE_VARIABLE",b[b.CONSTANT_DATA_SOURCE=16384]="CONSTANT_DATA_SOURCE",b[b.DYNAMIC_DATA_SOURCE=32768]="DYNAMIC_DATA_SOURCE",b[b.STORE_VARIABLE=65536]="STORE_VARIABLE",b[b.RADIATE_ROUTER_VARIABLE=131072]="RADIATE_ROUTER_VARIABLE",b[b.DIRECT_ACCESS=208]="DIRECT_ACCESS"})(Li||(Li={}));(function(e){e[e.VALUE=22]="VALUE",e[e.MASK=4194303]="MASK"})(St||(St={}));(function(h){h[h.DEFAULT_BINDING_STATE=1]="DEFAULT_BINDING_STATE",h[h.FROM_ATTRIBUTES=2]="FROM_ATTRIBUTES",h[h.FROM_PRESETS=4]="FROM_PRESETS",h[h.FROM_OUTSIDE=8]="FROM_OUTSIDE",h[h.FROM_STORE=256]="FROM_STORE",h[h.ALLOW_EXPORT_TO_PARENT=16]="ALLOW_EXPORT_TO_PARENT",h[h.ALLOW_UPDATE_FROM_CHILD=32]="ALLOW_UPDATE_FROM_CHILD",h[h.ALLOW_UPDATE_FROM_MODEL=64]="ALLOW_UPDATE_FROM_MODEL",h[h.WRITTEN=128]="WRITTEN"})(T||(T={}));(function(r){r[r.UNCHECKED=0]="UNCHECKED",r[r.TRUE=1]="TRUE",r[r.FALSE=2]="FALSE",r[r.STATIC_CONSTANT=4]="STATIC_CONSTANT",r[r.STATIC_RUNTIME=8]="STATIC_RUNTIME"})(Ri||(Ri={}));(function(g){g[g.UNDEFINED=0]="UNDEFINED",g[g.CONSTANT_STATIC=1]="CONSTANT_STATIC",g[g.WITH_MODEL=2]="WITH_MODEL",g[g.WITH_MODULE=4]="WITH_MODULE",g[g.WITH_PARENT=8]="WITH_PARENT",g[g.WITH_GLOBAL=16]="WITH_GLOBAL",g[g.WITH_VARIABLE=32]="WITH_VARIABLE",g[g.WITH_TEMPLATE=64]="WITH_TEMPLATE",g[g.STATIC_WITH_PARENT=9]="STATIC_WITH_PARENT",g[g.STATIC_WITH_MODULE=5]="STATIC_WITH_MODULE",g[g.STATIC_WITH_MODEL=3]="STATIC_WITH_MODEL",g[g.STATIC_WITH_GLOBAL=17]="STATIC_WITH_GLOBAL",g[g.STATIC_WITH_VARIABLE=33]="STATIC_WITH_VARIABLE",g[g.INVALID=255]="INVALID"})(Ii||(Ii={}))});var Ut,En=Dt(()=>{me();Ut=X.get("wick")});var Z,et,wn,yn=Dt(()=>{En();(function(t){t[t.Indexed=0]="Indexed"})(Z||(Z={}));et=new Map,wn=class{constructor(){this.db=null,this.active_promise=null}async connect(){return!this.db&&!this.errors?(this.active_promise=new Promise(t=>{let e=indexedDB.open("wick-session",1);e.onsuccess=n=>{Ut.log("Database connected"),this.db=e.result,this.db.onerror=this.handle_error,t(!0)},e.onerror=n=>{this.handle_error(n),t(!1)},e.onblocked=n=>{Ut.log("Connection blocked"),t(!1)},e.onupgradeneeded=n=>{Ut.log("Upgrade needed"),this.db=e.result,this.db.onerror=i=>this.handle_error(i),this.db.createObjectStore("session-data",{keyPath:null})}}),this.active_promise.finally(()=>{this.active_promise=null}),this.active_promise):this.active_promise?await this.active_promise:!this.errors}handle_error(t){this.errors=!0,Ut.warn(t.target.error)}async put(t,e){return await this.connect()?new Promise(n=>{if(!this.db)return!1;var i=this.db.transaction(["session-data"],"readwrite");i.oncomplete=()=>n(!0),i.onerror=()=>n(!1),i.objectStore("session-data").put(e,t)}):!1}async get(t){if(await this.connect()&&this.db)return await this.connect()?new Promise(e=>{if(!this.db)return!1;var n=this.db.transaction(["session-data"],"readonly");n.onerror=()=>e(void 0);let r=n.objectStore("session-data").get(t);r.onerror=()=>e(void 0),r.onsuccess=o=>{e(r.result)}}):!1}}});var Ct,Gi,xn=Dt(()=>{(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.NOT_ALLOWED=1]="NOT_ALLOWED",E[E.OK=2]="OK",E[E.GET_COMPONENT_STYLE=3]="GET_COMPONENT_STYLE",E[E.GET_COMPONENT_STYLE_RESPONSE=4]="GET_COMPONENT_STYLE_RESPONSE",E[E.APPLY_COMPONENT_PATCH=5]="APPLY_COMPONENT_PATCH",E[E.GET_COMPONENT_PATCH=6]="GET_COMPONENT_PATCH",E[E.UPDATED_COMPONENT=7]="UPDATED_COMPONENT",E[E.GET_COMPONENT_SOURCE=8]="GET_COMPONENT_SOURCE",E[E.GET_COMPONENT_SOURCE_RESPONSE=9]="GET_COMPONENT_SOURCE_RESPONSE",E[E.APPLY_COMPONENT_CHANGES=10]="APPLY_COMPONENT_CHANGES",E[E.GET_PLUGIN_PATHS=11]="GET_PLUGIN_PATHS",E[E.PLUGIN_PATHS_RESPONSE=12]="PLUGIN_PATHS_RESPONSE",E[E.REGISTER_CLIENT_COMPONENT=13]="REGISTER_CLIENT_COMPONENT",E[E.GET_STORE_REPLY=14]="GET_STORE_REPLY",E[E.GET_STORE=15]="GET_STORE",E[E.SET_STORE=16]="SET_STORE"})(Ct||(Ct={}));(function(e){e[e.INLINE=0]="INLINE",e[e.CSS_FILE=1]="CSS_FILE"})(Gi||(Gi={}))});var vn,$i=Dt(()=>{me();xn();vn=class{constructor(t,e=X.get("wick").get("session").get("client").activate()){this.logger=e,typeof t=="string"?(this.logger.log(`Creating WebSocket connection to [ ${t} ]`),this.connection=new WebSocket(t)):this.connection=t,this.ACTIVE=!1,this.awaitable_callback=new Map,this.dispatches=new Map,this.set_callbacks(),this.nonce=50,this.opened=Date.now()}setHandler(t,e){this.dispatches.set(t,e)}set_callbacks(){this.connection.addEventListener("message",this.command_handler.bind(this)),this.connection.addEventListener("close",this.close_handler.bind(this)),this.connection.addEventListener("error",this.error_handler.bind(this)),this.connection.addEventListener("open",this.open_handler.bind(this))}send_command(t,e=1/0){this.logger.log(`Sending command [ ${Ct[t.command]} ] with nonce [ ${e} ]`);let n=JSON.stringify({data:t,nonce:e});this.connection.send(n)}send_awaitable_command(t){let e=this.nonce++,n=new Promise(i=>{this.awaitable_callback.set(e,i)});return this.send_command(t,e),n}open_handler(){this.logger.log(`Connection to [ ${this.connection.url} ] established`),this.ACTIVE=!0}close_handler(){this.ACTIVE=!1}error_handler(t,...e){this.logger.error(t)}get_message_string(t){return t.data}async command_handler(t){let{nonce:e,data:n}=JSON.parse(this.get_message_string(t));if(this.logger.log(`Received command [ ${Ct[n.command]} ] with nonce [ ${e} ]`),this.awaitable_callback.has(e)){let i=this.awaitable_callback.get(e);if(this.awaitable_callback.delete(e),i)return i(n)}else if(this.dispatches.has(n.command)){let i=await this.dispatches.get(n.command)(n,this);i&&this.send_command(i,e)}else this.logger.warn(`No handler set for command [ ${Ct[n.command]} ]`)}applyDefault(t){this.dispatches.has(t.command)&&this.dispatches.get(t.command)(t,this)}}});var Ji={};Ve(Ji,{init:()=>Ks});async function Ks(s){let t=document.location.hostname,e=document.location.port,n=new vn(`wss://${t}:${e}`),i={},r=new Promise(o=>{n.connection.addEventListener("open",async()=>{s.setDatabaseData=function(c,h,u){u==Z.Indexed&&(i[c]=h,n.send_command({command:Ct.SET_STORE,data:i}))},s.getDatabaseData=async function(c,h=Z.Indexed){if(h==Z.Indexed)return await r,i[c]};let{data:l}=await n.send_awaitable_command({command:Ct.GET_STORE});i=l;for(let c in i){let h=i[c];if(et.has(c)){let u=et.get(c);if(u){u.val=h;let m={[c]:h};for(let p of u.comps)p.update(m,T.FROM_STORE)}}else et.set(c,{comps:new Set,val:h})}o(!0)})});return r}var Xi=Dt(()=>{Ft();gn();xn();$i();yn();je(z.APP)});var Pn={};Ve(Pn,{init:()=>bs});var In=function(){return(In=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);return s}).apply(this,arguments)};function gs(s,t,e,n){return new(e||(e=Promise))(function(i,r){function o(h){try{c(n.next(h))}catch(u){r(u)}}function l(h){try{c(n.throw(h))}catch(u){r(u)}}function c(h){var u;h.done?i(h.value):(u=h.value,u instanceof e?u:new e(function(m){m(u)})).then(o,l)}c((n=n.apply(s,t||[])).next())})}function Es(s,t){var e,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(h){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(s,o)}catch(m){u=[6,m],n=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,h])}}}function Ee(s,t){t===void 0&&(t=!1);var e=function(){var n=new Int8Array(1);window.crypto.getRandomValues(n);var i=new Uint8Array(Math.max(16,Math.abs(n[0])));return window.crypto.getRandomValues(i),i.join("")}();return Object.defineProperty(window,e,{value:function(n){return t&&Reflect.deleteProperty(window,e),s==null?void 0:s(n)},writable:!1,configurable:!0}),e}function be(s,t){return t===void 0&&(t={}),gs(this,void 0,void 0,function(){return Es(this,function(e){return[2,new Promise(function(n,i){var r=Ee(function(l){n(l),Reflect.deleteProperty(window,o)},!0),o=Ee(function(l){i(l),Reflect.deleteProperty(window,r)},!0);window.rpc.notify(s,In({__invokeKey:__TAURI_INVOKE_KEY__,callback:r,error:o},t))})]})})}function Nn(s){return navigator.userAgent.includes("Windows")?"https://asset.localhost/"+s:"asset://"+s}var mr=Object.freeze({__proto__:null,transformCallback:Ee,invoke:be,convertFileSrc:Nn});function bs(){be("init",{data:"Test"}),console.log("Hello World : JS")}var fs={};Ve(fs,{default:()=>ms});var Gt=class{constructor(t){this.constructCommon(),this.seq=[],this.duration=0;for(let e of t)this.add(e)}destroy(){this.seq.forEach(t=>t.destroy()),this.seq.length=0,this.destroyCommon()}add(t){this.seq.push(t),this.duration=Math.max(this.duration,t.duration)}run(t){for(let e=0,n=this.seq.length;e<n;e++)this.seq[e].run(t);return t<this.duration}};var qe=[170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,11823,13312,19893,19968,40943,43259,43471,43642,43697,43712,43714,44032,55203,64285,64318,67592,67644,68096,69415,69956,70006,70106,70108,70280,70461,70480,70751,70855,71236,71352,71935,72161,72163,72192,72250,72272,72349,72768,73030,73112,94032,94179,94208,100343,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456],Ge=[65,90,97,122,192,214,216,246,248,705,710,721,736,740,880,884,886,887,890,893,904,906,910,929,931,1013,1015,1153,1162,1327,1329,1366,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1765,1766,1774,1775,1786,1788,1810,1839,1869,1957,1994,2026,2036,2037,2048,2069,2112,2136,2144,2154,2208,2228,2230,2237,2308,2361,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2974,2975,2979,2980,2984,2986,2990,3001,3077,3084,3086,3088,3090,3112,3114,3129,3160,3162,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3718,3722,3724,3747,3751,3760,3762,3763,3776,3780,3804,3807,3904,3911,3913,3948,3976,3980,4096,4138,4176,4181,4186,4189,4197,4198,4206,4208,4213,4225,4256,4293,4304,4346,4348,4680,4682,4685,4688,4694,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6176,6264,6272,6276,6279,6312,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8031,8061,8064,8116,8118,8124,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8336,8348,8458,8467,8473,8477,8490,8493,8495,8505,8508,8511,8517,8521,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11568,11623,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12730,12784,12799,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42943,42946,42950,42999,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43646,43695,43701,43702,43705,43709,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43879,43888,44002,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64287,64296,64298,64310,64312,64316,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,67072,67382,67392,67413,67424,67431,67584,67589,67594,67637,67639,67640,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69376,69404,69424,69445,69600,69622,69635,69687,69763,69807,69840,69864,69891,69926,69968,70002,70019,70066,70081,70084,70144,70161,70163,70187,70272,70278,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70493,70497,70656,70708,70727,70730,70784,70831,70852,70853,71040,71086,71128,71131,71168,71215,71296,71338,71424,71450,71680,71723,71840,71903,72096,72103,72106,72144,72203,72242,72284,72329,72384,72440,72704,72712,72714,72750,72818,72847,72960,72966,72968,72969,72971,73008,73056,73061,73063,73064,73066,73097,73440,73458,73728,74649,74752,74862,74880,75075,77824,78894,82944,83526,92160,92728,92736,92766,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94099,94111,94176,94177,100352,101106,110592,110878,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119973,119974,119977,119980,119982,119993,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,123136,123180,123191,123197,123584,123627,124928,125124,125184,125251,126464,126467,126469,126495,126497,126498,126505,126514,126516,126519,126541,126543,126545,126546,126561,126562,126567,126570,126572,126578,126580,126583,126585,126588,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651],Hn=[95,1471,1479,1648,1809,2045,2492,2519,2558,2620,2641,2677,2748,2876,2946,3031,3260,3415,3530,3542,3633,3761,3893,3895,3897,4038,6109,6313,7405,7412,8276,8417,11647,42607,43010,43014,43019,43493,43587,43696,43713,64286,65343,66045,66272,68159,70003,70206,70487,70750,72164,72263,73018,73031,94031,121461,121476],jn=[48,57,768,879,1155,1159,1425,1469,1473,1474,1476,1477,1552,1562,1611,1641,1750,1756,1759,1764,1767,1768,1770,1773,1776,1785,1840,1866,1958,1968,1984,1993,2027,2035,2070,2073,2075,2083,2085,2087,2089,2093,2137,2139,2259,2273,2275,2307,2362,2364,2366,2383,2385,2391,2402,2403,2406,2415,2433,2435,2494,2500,2503,2504,2507,2509,2530,2531,2534,2543,2561,2563,2622,2626,2631,2632,2635,2637,2662,2673,2689,2691,2750,2757,2759,2761,2763,2765,2786,2787,2790,2799,2810,2815,2817,2819,2878,2884,2887,2888,2891,2893,2902,2903,2914,2915,2918,2927,3006,3010,3014,3016,3018,3021,3046,3055,3072,3076,3134,3140,3142,3144,3146,3149,3157,3158,3170,3171,3174,3183,3201,3203,3262,3268,3270,3272,3274,3277,3285,3286,3298,3299,3302,3311,3328,3331,3387,3388,3390,3396,3398,3400,3402,3405,3426,3427,3430,3439,3458,3459,3535,3540,3544,3551,3558,3567,3570,3571,3636,3642,3655,3662,3664,3673,3764,3772,3784,3789,3792,3801,3864,3865,3872,3881,3902,3903,3953,3972,3974,3975,3981,3991,3993,4028,4139,4158,4160,4169,4182,4185,4190,4192,4194,4196,4199,4205,4209,4212,4226,4237,4239,4253,4957,4959,5906,5908,5938,5940,5970,5971,6002,6003,6068,6099,6112,6121,6155,6157,6160,6169,6277,6278,6432,6443,6448,6459,6470,6479,6608,6617,6679,6683,6741,6750,6752,6780,6783,6793,6800,6809,6832,6845,6912,6916,6964,6980,6992,7001,7019,7027,7040,7042,7073,7085,7088,7097,7142,7155,7204,7223,7232,7241,7248,7257,7376,7378,7380,7400,7415,7417,7616,7673,7675,7679,8255,8256,8400,8412,8421,8432,11503,11505,11744,11775,12330,12335,12441,12442,42528,42537,42612,42621,42654,42655,42736,42737,43043,43047,43136,43137,43188,43205,43216,43225,43232,43249,43263,43273,43302,43309,43335,43347,43392,43395,43443,43456,43472,43481,43504,43513,43561,43574,43596,43597,43600,43609,43643,43645,43698,43700,43703,43704,43710,43711,43755,43759,43765,43766,44003,44010,44012,44013,44016,44025,65024,65039,65056,65071,65075,65076,65101,65103,65296,65305,66422,66426,66720,66729,68097,68099,68101,68102,68108,68111,68152,68154,68325,68326,68900,68903,68912,68921,69446,69456,69632,69634,69688,69702,69734,69743,69759,69762,69808,69818,69872,69881,69888,69890,69927,69940,69942,69951,69957,69958,70016,70018,70067,70080,70089,70092,70096,70105,70188,70199,70367,70378,70384,70393,70400,70403,70459,70460,70462,70468,70471,70472,70475,70477,70498,70499,70502,70508,70512,70516,70709,70726,70736,70745,70832,70851,70864,70873,71087,71093,71096,71104,71132,71133,71216,71232,71248,71257,71339,71351,71360,71369,71453,71467,71472,71481,71724,71738,71904,71913,72145,72151,72154,72160,72193,72202,72243,72249,72251,72254,72273,72283,72330,72345,72751,72758,72760,72767,72784,72793,72850,72871,72873,72886,73009,73014,73020,73021,73023,73029,73040,73049,73098,73102,73104,73105,73107,73111,73120,73129,73459,73462,92768,92777,92912,92916,92976,92982,93008,93017,94033,94087,94095,94098,113821,113822,119141,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,120782,120831,121344,121398,121403,121452,121499,121503,121505,121519,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,123184,123190,123200,123209,123628,123641,125136,125142,125252,125258,125264,125273],A=new Uint16Array(191488);A.fill(0);function Q(s,t,e){let n=e.length;for(let i=0;i<n;i++)s[e[i]]|=t}function gt(s,t,e){let n=e.length;for(let i=0;i<n;i+=2){let r=e[i],l=e[i+1]+1-r,c=[];for(let h=0;h<l;h++)c[h]=r+h;Q(s,t,c)}}gt(A,1,Ge);Q(A,1,qe);Q(A,2,[34,39,96]);Q(A,3,[32,160,8194,8195,8196,12288]);Q(A,4,[9]);Q(A,5,[13]);Q(A,6,[10]);gt(A,7,[48,57]);Q(A,8,[33,37,38,42,43,58,60,61,62]);Q(A,9,[40,91,123]);Q(A,10,[41,93,125]);var Tt=2,Lt=4,we=16,$e=32,Je=64;gt(A,Tt<<8,[65,90,97,122]);gt(A,Tt<<8,Ge);Q(A,Tt<<8,qe);gt(A,Tt<<8,jn);Q(A,Tt<<8,Hn);gt(A,we<<8,[65,70,97,122]);gt(A,Je<<8,[48,49]);gt(A,$e<<8,[48,55]);gt(A,(Lt|we)<<8,[48,57]);var ws=9,ys="^";var xs="=";function Xe(s){let t=4,e=400,n=s.source,i=s.off-s.char,r=s.char,o=s.line,l=s.str,c=l.length,h=" ";s.tl=s.tl||1;let u=0,m=0,p=0,_=0;for(_=i;--_>0&&A[l.codePointAt(_)]!==6;);for(u=_,_=s.off+s.tl;_<c&&A[l.codePointAt(_)]!==6;_++);for(m=_,_++;_<c&&A[l.codePointAt(_)]!==6;_++);p=_;let g=r-(i>0?1:0);for(_=i;_<s.off;_++)l.codePointAt(_)==ws&&(g+=t-1);u=Math.max(u,0),i=Math.max(i,0),m=Math.max(m,0);let w=l.slice(u+(u>0?1:0),i).replace(/\n/g,"").replace(/\t/g,h.repeat(t)),S=l.slice(i+(i>0?1:0),m).replace(/\n/g,"").replace(/\t/g,h.repeat(t)),E=l.slice(m+(m>0?1:0),p).replace(/\n/g,"").replace(/\t/g," "),v=Math.max(w.length,S.length,E.length),I=Math.min(w.length,S.length,E.length),N=v-I,b=e,F=Math.max(0,Math.min(g-b/2,v)),B=Math.max(0,Math.min(g+b/2,v)),_t=Math.max(0,Math.min(g,v))-F-(i==0?1:0),V=(w+h.repeat(N)).slice(F,B),q=(S+h.repeat(N)).slice(F,B),At=(E+h.repeat(N)).slice(F,B),st=F!==0?"...":"",K=dt=>` ${(h.repeat(3)+(dt+1)).slice(-(o+1+"").length)}: `,kt=xs.repeat(q.length+K.length+8+st.length);return[`${kt}`,`${o-1>-1?K(o-1)+st+V+(V.length<w.length?"...":""):""}`,`${K(o)+st+q+(q.length<S.length?"...":"")}`,`${" ".repeat(_t+st.length+K(o+1).length)+ys}`,`${m<l.length?K(o+1)+st+At+(At.length<E.length?"...":""):""}`,`${kt}`].filter(dt=>!!dt).join(`
`)}var Ze=class extends SyntaxError{constructor(t="",e){super();this.name="WindSyntaxError",this.lex=e.copy(),this.file="",this.line=e.line,this.column=e.column,this.post_peek_lines=1,this.pre_peek_lines=1,this.window=50,this.msg=t||"no error message"}get message(){let t=this.lex,e=4,n=400,i=this.msg,r=t.source??"";return`
`+i+`
 at `+r+":"+(t.line+1)+":"+t.char+`
`+Xe(t)}};var D;(function(s){s[s.number=1]="number",s[s.num=1]="num",s[s.identifier=2]="identifier",s[s.string=4]="string",s[s.white_space=8]="white_space",s[s.open_bracket=16]="open_bracket",s[s.close_bracket=32]="close_bracket",s[s.operator=64]="operator",s[s.symbol=128]="symbol",s[s.new_line=256]="new_line",s[s.tab=512]="tab",s[s.number_bin=1025]="number_bin",s[s.number_oct=2049]="number_oct",s[s.number_hex=4097]="number_hex",s[s.number_int=8193]="number_int",s[s.number_sci=16385]="number_sci",s[s.number_flt=32769]="number_flt",s[s.alpha_numeric=3]="alpha_numeric",s[s.white_space_new_line=776]="white_space_new_line",s[s.id=2]="id",s[s.str=4]="str",s[s.ws=8]="ws",s[s.ob=16]="ob",s[s.cb=32]="cb",s[s.op=64]="op",s[s.sym=128]="sym",s[s.nl=256]="nl",s[s.tb=512]="tb",s[s.int=8193]="int",s[s.integer=8193]="integer",s[s.bin=1025]="bin",s[s.binary=1025]="binary",s[s.oct=2049]="oct",s[s.octal=2049]="octal",s[s.hex=4097]="hex",s[s.hexadecimal=4097]="hexadecimal",s[s.flt=32769]="flt",s[s.float=32769]="float",s[s.sci=16385]="sci",s[s.scientific=16385]="scientific"})(D||(D={}));var Wn=A.slice();Wn[45]|=2<<8;Wn[95]|=2<<8;var P=class{constructor(t="",e=!1,n=!1){if(typeof t!="string")throw new Error(`String value must be passed to Lexer. A ${typeof t} was passed as the 'string' argument.`);Object.defineProperties(this,{symbol_map:{writable:!0,value:null},p:{writable:!0,value:null},masked_values:{writable:!0,value:0},sl:{writable:!0,enumerable:!0,value:t.length},str:{writable:!1,value:t}}),this.type=262144,this.tl=0,this.off=0,this.column=0,this.line=0,this.source="",this.IWS=!e,this.USE_EXTENDED_ID=!1,this.PARSE_STRING=!1,n||this.next()}reset(){return this.resetHead(),this.next(),this}resetHead(){this.off=0,this.tl=0,this.column=0,this.line=0,this.p=null,this.type=32768}copy(t=new P(this.str,!1,!0)){return t.off=this.off,t.column=this.column,t.line=this.line,t.tl=this.tl,t.sl=this.sl,t.type=this.type,t.symbol_map=this.symbol_map,t.masked_values=this.masked_values,t.source=this.source,t}sync(t=this.p){if(t instanceof P){if(t.str!==this.str)throw new Error("Cannot sync Lexers that tokenize different strings!");let e=this.masked_values;t.copy(this),this.masked_values=e}return this}peek(t=this,e=t.p){if(!e){if(!t)return null;t.p||(t.p=new P(t.str,!1,!0),e=t.p)}return t.copy(e),t.next(e),e}next(t=this,e=!!this.symbol_map){if(t.sl<1)return t.off=0,t.type=32768,t.tl=0,t.line=0,t.column=0,t;let n=t.sl,i=t.str,r=this.id_lu,o=t.IWS,l=t.tl,c=t.off+l,h=D.symbol,u=t.line,m=c,p=t.column,_=t.off;if(c>=n)return l=0,m=n,t.column=p+(m-t.off),t.type=h,t.off=m,t.tl=0,t.line=u,t;let g=!0;if(e){let w=i.charCodeAt(c),S=c,E=this.symbol_map,v;for(;w==32&&o;)w=i.charCodeAt(++S),c++;for(;v=E.get(w);)E=v,S+=1,w=i.charCodeAt(S);E.IS_SYM&&(g=!1,m=c,l=S-c)}for(;g;){m=c,l=1;let w=i.codePointAt(c);switch(r[w]&255){case 0:h=D.symbol;break;case 1:for(;;){for(;++c<n&&(Tt|Lt)&r[i.codePointAt(c)]>>8;);if(!(this.USE_EXTENDED_ID&&"-_".includes(i[c])&&(Tt|Lt)&r[i.codePointAt(c+1)]>>8)){h=D.identifier,l=c-m;break}}break;case 2:if(this.PARSE_STRING)h=D.symbol;else{for(;++c<n&&i.codePointAt(c)!==w;);h=D.string,l=c-m+1}break;case 3:++c,h=D.white_space,l=c-m;break;case 4:++c,h=D.tab,l=c-m;break;case 5:l=2;case 6:h=D.new_line,u++,m=c,_=c,c+=l,p=0;break;case 7:if(h=D.number,w==48){if(c++,"oxbOXB".includes(i[c])){let S={b:{lu:Je,ty:D.number_bin},o:{lu:$e,ty:D.number_oct},x:{lu:we,ty:D.number_hex}},{lu:E,ty:v}=S[i[c].toLowerCase()];if(E&r[i.codePointAt(c+1)]>>8){for(;++c<n&&E&r[i.codePointAt(c)]>>8;);h=v,this.USE_EXTENDED_NUMBER_TYPES||(h=D.number),l=c-m;break}}}else for(;++c<n&&Lt&r[i.codePointAt(c)]>>8;);if(i[c]=="."){for(;++c<n&&Lt&r[i.codePointAt(c)]>>8;);h=D.number_flt}if("Ee".includes(i[c])){let S=c;if(c++,"-+".includes(i[c])&&c++,!(Lt&r[i.codePointAt(c)]>>8))c=S;else{for(;++c<n&&Lt&r[i.codePointAt(c)]>>8;);h=D.number_sci}}this.USE_EXTENDED_NUMBER_TYPES||(h=D.number),l=c-m,h=D.number;break;case 8:h=D.operator;break;case 9:h=D.open_bracket;break;case 10:h=D.close_bracket;break}if(o&&h&D.white_space_new_line)if(c<n){h=D.symbol;continue}else m=n-c,t.sl-=c,l=0;break}return t.type=h,t.off=m,t.tl=this.masked_values&64?Math.min(1,l):l,t.column=p+m-_,t.line=u,t}fence(t=this){if(t.str===this.str)return this.sl=t.off,this}find(t){let e=this.pk,n=new P(t);n.resetHead(),e.tl=0;let i=e.CHARACTERS_ONLY;for(n.CHARACTERS_ONLY=!0,e.CHARACTERS_ONLY=!0;!e.END;){let r=n.pk,o=e.pk;for(;!r.END&&!o.END&&o.tx==r.tx;)o.next(),r.next();if(r.END)return e.CHARACTERS_ONLY=i,e.next();e.next()}return e}seek(t,e){let n=this.copy();for(n.CHARACTERS_ONLY=!0,t=Math.max(0,t-1),e=Math.max(1,e);!n.END&&n.line!=t;)n.next();for(;!n.END&&n.char<e;)n.next();return n.CHARACTERS_ONLY=this.CHARACTERS_ONLY,n}createWindSyntaxError(t){return new Ze(t,this)}errorMessage(t=""){return this.createWindSyntaxError(t).message}errorMessageWithIWS(...t){return this.errorMessage(...t)+`
`+!this.IWS?`
 The Lexer produced whitespace tokens`:""}blame(){return Xe(this)}throw(t){throw new Error(this.errorMessage(t))}r(){return this.reset()}a(t){return this.assert(t)}assert(t){return(this.off<0||this.END)&&this.throw(`Expecting [${t}] but encountered end of string.`),this.text==t?this.next():this.throw(`Expecting [${t}] but encountered [${this.text}]`),this}aC(t){return this.assertCharacter(t)}assertCharacter(t){return(this.off<0||this.END)&&this.throw(`Expecting [${t[0]}] but encountered end of string.`),this.ch==t[0]?this.next():this.throw(`Expecting [${t[0]}] but encountered [${this.ch}]`),this}s(t){return this.slice(t)}slice(t=this.off){return t instanceof P&&(t=t.off),this.str.slice(t,this.off<=t?this.sl:this.off)}setString(t,e=!0){this.str=t,this.sl=t.length,e&&this.resetHead()}toString(){return this.slice()}trim(t=0,e=t){let n=this.copy(),i=0,r=n.off;for(;n.off<n.sl;n.off++){let o=A[n.string.charCodeAt(n.off)];if(o>2&&o<7){i>=t?r++:i++;continue}break}for(n.off=r,i=0,r=n.sl;n.sl>n.off;n.sl--){let o=A[n.string.charCodeAt(n.sl-1)];if(o>2&&o<7){i>=e?r--:i++;continue}break}return n.sl=r,t>0&&(n.IWS=!1),n.tl=0,n.next(),n}get char(){return this.column}addSymbol(t){this.symbol_map||(this.symbol_map=new Map);let e=this.symbol_map;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n),r=e.get(i);r||(r=e.set(i,new Map).get(i)),e=r}e.IS_SYM=!0}addSymbols(...t){for(let e of t)this.addSymbol(e)}getEnd(){let t=this.copy();for(;!t.END;)t.next();return t}get string(){return this.str}get string_length(){return this.sl-this.off}set string_length(t){}get token(){return this.copy()}get ch(){return this.str[this.off]}get tx(){return this.text}get text(){return this.off<0?"":this.str.slice(this.off,this.off+this.tl)}get ty(){return this.type}get pos(){return this.off}get pk(){return this.peek()}get n(){return this.next()}get END(){return this.off>=this.sl}set END(t){}get IGNORE_WHITE_SPACE(){return this.IWS}set IGNORE_WHITE_SPACE(t){this.IWS=!!t}get CHARACTERS_ONLY(){return!!(this.masked_values&64)}set CHARACTERS_ONLY(t){this.masked_values=this.masked_values&~64|(+t|0)<<6}get IWS(){return!!(this.masked_values&32)}set IWS(t){this.masked_values=this.masked_values&~32|(+t|0)<<5}get PARSE_STRING(){return!!(this.masked_values&16)}set PARSE_STRING(t){this.masked_values=this.masked_values&~16|(+t|0)<<4}get USE_EXTENDED_ID(){return!!(this.masked_values&128)}set USE_EXTENDED_ID(t){this.masked_values=this.masked_values&~128|(+t|0)<<7}get USE_EXTENDED_NUMBER_TYPES(){return!!(this.masked_values&4)}set USE_EXTENDED_NUMBER_TYPES(t){this.masked_values=this.masked_values&~4|(+t|0)<<2}get types(){return D}setSource(t){return this.source=t,this}};P.prototype.id_lu=A;P.prototype.addCharacter=P.prototype.addSymbol;function Ke(s,t=!1){return new P(s,t)}Ke.constructor=P;P.types=D;Ke.types=D;var k=Ke;function wt(s){return s.tx==","&&s.next(),s}var vs={aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],aqua:[0,255,25],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[],blanchedalmond:[255,235,205],blueviolet:[138,43,226],blue:[0,0,255],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255],chocolate:[210,105,30],clear:[255,255,255],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,25],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140],darkorchid:[153,50,204],darkred:[139],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215],goldenrod:[218,165,32],gray:[128,128,128],greenyellow:[173,255,47],green:[0,128],honeydew:[240,255,240],hotpink:[100,149,237],indianred:[205,92,92],indigo:[75,0,130],invisible:[0,0,0,0],ivory:[255,255,240],khaki:[240,230,140],lavenderblush:[255,240,245],lavender:[230,230,250],lawngreen:[124,252],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],lime:[0,255],linen:[250,240,230],magenta:[255,0,255],maroon:[128],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olivedrab:[107,142,35],olive:[128,128],orangered:[255,69],orange:[255,165],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],white:[255,255,255],yellowgreen:[154,205,50],yellow:[255,255],rebeccapurple:[102,81,153]},R=class extends Float64Array{constructor(t,e,n,i=1){super(4);this.r=0,this.g=0,this.b=0,this.a=1,typeof t=="number"?(this.r=t,this.g=e,this.b=n,this.a=i):typeof t=="string"&&this.set(R._fs_(t)||{r:255,g:255,b:255,a:0})}static fromHCMX(t,e,n,i){let r=n,o=n,l=n;return t<1&&t>=0?(r+=e,o+=i):t<2?(r+=i,o+=e):t<3?(o+=e,l+=i):t<4?(o+=i,l+=e):t<5?(r+=i,l+=e):t<6&&(r+=e,l+=i),r*=255,o*=255,l*=255,new R(r,o,l)}static fromHSV(t,e,n){let i=t/60,r=n*e,o=n-r,l=r*(1-Math.abs(i%2-1));return R.fromHCMX(i,r,o,l)}static fromHSL(t,e,n){e*=.01,n*=.01;let i=t%360/60,r=(1-Math.abs(2*n-1))*e,o=r*(1-Math.abs(i%2-1)),l=n-.5*r;return R.fromHCMX(i,r,l,o)}static parse(t){let e=R._fs_(t);if(e){let n=new R;return n.set(e),n}return null}static _verify_(t){return!!R._fs_(t,!0)}static _fs_(t,e=!1){let n;typeof t=="string"&&(t=k(t));let i={r:0,g:0,b:0,a:1};var r;switch(t.ch){case"#":t.next();let l=t.copy(),c=t.types;for(l.IWS=!1;!(l.ty&(c.new_line|c.sym|c.ws))&&!l.END&&l.ch!==";";)l.next();var o=l.slice(t);t.sync(l),t.tl=0;let h=parseInt(o,16);if(o.length==3||o.length==4){if(o.length==4){let I=h>>8&15;i.a=(I|I<<4)/256,h>>=4}let S=h>>8&15;i.r=S|S<<4;let E=h>>4&15;i.g=E|E<<4;let v=h&15;i.b=v|v<<4}else o.length==8&&(i.a=(h&255)/256,h>>=8),i.r=h>>16&255,i.g=h>>8&255,i.b=h&255;t.next();break;case"r":r=t.tx;let u=r==="rgba"?1:r==="rgb"?2:0;if(u>0)return t.next().assert("("),i.r=parseInt(t.tx),wt(t.next()),t.ch=="%"&&(wt(t.next()),i.r=i.r*255/100),i.g=parseInt(t.tx),wt(t.next()),t.ch=="%"&&(wt(t.next()),i.g=i.g*255/100),i.b=parseInt(t.tx),wt(t.next()),t.ch=="%"&&(wt(t.next()),i.b=i.b*255/100),t.tx!=")"&&(u==2?t.tx=="/"&&(t.next(),i.a=parseInt(t.tx),t.next(),t.ch=="%"&&(t.next(),i.a=i.a*255/100)):u<2&&(i.a=parseFloat(t.tx),t.next(),t.ch=="%"&&(t.next(),i.a=i.a*255/100))),t.assert(")"),n=new R,n.set(i),n;case"h":r=t.tx;let m=r==="hsla"?1:r==="hsl"?2:0,p=0,_=0,g=0;if(m>0)return t.next(),p=parseInt(t.next().tx),t.next(),t.ch=="%"&&t.next(),_=parseInt(t.next().tx),t.next(),t.ch=="%"&&t.next(),g=parseInt(t.next().tx),t.next(),t.ch=="%"&&t.next(),m<2&&(i.a=parseFloat(t.next().tx),t.next(),t.ch=="%"&&(t.next(),i.a=i.a*255/100)),t.a(")"),R.fromHSL(p,_,g);default:let w=t.tx;t.ty==t.types.str&&(w=w.slice(1,-1)),i=R.colors[w.toLowerCase()],i&&t.next()}return i}get r(){return this[0]}set r(t){this[0]=Math.min(Math.max(0,t),255)|0}get g(){return this[1]}set g(t){this[1]=Math.min(Math.max(0,t),255)|0}get b(){return this[2]}set b(t){this[2]=Math.min(Math.max(0,t),255)|0}get a(){return this[3]}set a(t){this[3]=t}set(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a!=null?t.a:this.a}add(t){return new R(t.r+this.r,t.g+this.g,t.b+this.b,t.a+this.a)}mult(t){return typeof t=="number"?new R(this.r*t,this.g*t,this.b*t,this.a*t):new R(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}sub(t){return new R(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}lerp(t,e){return this.add(t.sub(this).mult(e))}from(t){return new R(t)}toString(){return this.a!==1?this.toRGBAString():`#${("0"+this.r.toString(16)).slice(-2)}${("0"+this.g.toString(16)).slice(-2)}${("0"+this.b.toString(16)).slice(-2)}`}toRGBAString(){let t=this.toRGBString();return this.a==1?t:"rgba"+t.slice(3,-1)+`,${this.a})`}toRGBString(){return`rgb(${this.r|0},${this.g|0},${this.b|0})`}toHSLString(){let{r:t,g:e,b:n}=this;t/=255,e/=255,n/=255;let i=0,r=0,o=0,l=0,c=Math.max(t,e,n),h=Math.min(t,e,n),u=c-h;return c===t?r=(e-n)/u:c===e?r=(n-t)/u+2:r=(t-e)/u+4,r*=60,i=r,i<0&&(i+=360),o=(t*.3+e*.59+n*.11)/(t+e+n),l=u==0?0:u/c,`hsl(${Math.round(i*10)/10},${Math.round(l*10)/10},${Math.round(o*10)/10})`}toHSLAString(){let t=this.toHSLString();return this.a==1?t:"hsla"+t.slice(3,-1)+`,${this.a})`}};R.colors=Object.fromEntries(Object.entries(vs).map(([s,t])=>[s,new R(...t)]));var G=class extends Number{constructor(t){if(typeof t=="string"){let e=k(t),n=G.parse(e);if(n)return n}super(t)}static parse(t){let e=t.tx,n=t.pk.ty;if(t.ty==t.types.num||e=="-"&&n==t.types.num){let i=1;if(t.ch=="-"&&(i=-1,e=t.p.tx,t.p.next()),t.p.ch=="%")return t.sync().next(),new G(parseFloat(e)*i)}return null}static _verify_(t){return!!(typeof t=="string"&&!isNaN(parseInt(t))&&t.includes("%"))}toJSON(){return super.toString()+"%"}toString(t=10){return super.toString(t)+"%"}get str(){return this.toString()}lerp(t,e){return new G(Number(this)+(t-Number(this))*e)}copy(t){return new G(t)}get type(){return"%"}};G.label_name="Percentage";var yt=class extends Number{static parse(t){let e=1;if(t.ch=="-"&&t.pk.ty==t.types.num&&(t.sync(),e=-1),t.ty==t.types.num){let n=t.tx;return t.next(),new yt(e*parseFloat(n))}return null}};var y=class extends Number{static parse(t){let e=t.tx,n=t.pk.ty;if(t.ty==t.types.num||e=="-"&&n==t.types.num){let i=1;if(t.ch=="-"&&(i=-1,e=t.p.tx,t.p.next()),t.p.ty==t.types.id){let r=t.sync().tx;return t.next(),new y(parseFloat(e)*i,r)}else return t.p.ch=="%"?(t.sync().next(),new G(parseFloat(e)*i)):(t.next(),new yt(parseFloat(e)*i))}return null}static _verify_(t){return typeof t=="string"&&!isNaN(parseInt(t))&&!t.includes("%")}constructor(t,e=""){if(typeof t=="string"){let n=k(t),i=y.parse(n);if(i)return i}if(e)switch(e){case"fr":return new ii(t);case"px":return new Fn(t);case"mm":return new Un(t);case"cm":return new Bn(t);case"in":return new zn(t);case"pc":return new qn(t);case"pt":return new Vn(t);case"ch":return new Gn(t);case"em":return new $n(t);case"ex":return new Jn(t);case"rem":return new Xn(t);case"vh":return new Zn(t);case"vw":return new Kn(t);case"vmin":return new Qn(t);case"vmax":return new Yn(t);case"deg":return new ti(t);case"s":return new ei(t);case"ms":return new ni(t);case"%":return new G(t)}super(t)}get milliseconds(){switch(this.unit){case"s":return Number(this)*1e3}return Number(this)}toString(t=10){return super.toString(t)+""+this.unit}toJSON(t=10){return super.toString(t)+""+this.unit}get str(){return this.toString()}lerp(t,e){return new y(Number(this)+(t-Number(this))*e,this.unit)}from(t=this){return new y(t,this.unit)}copy(){return new y(this,this.unit)}set unit(t){}get unit(){return""}},Fn=class extends y{get unit(){return"px"}},Un=class extends y{get unit(){return"mm"}},Bn=class extends y{get unit(){return"cm"}},zn=class extends y{get unit(){return"in"}},Vn=class extends y{get unit(){return"pt"}},qn=class extends y{get unit(){return"pc"}},Gn=class extends y{get unit(){return"ch"}},$n=class extends y{get unit(){return"em"}},Jn=class extends y{get unit(){return"ex"}},Xn=class extends y{get unit(){return"rem"}},Zn=class extends y{get unit(){return"vh"}},Kn=class extends y{get unit(){return"vw"}},Qn=class extends y{get unit(){return"vmin"}},Yn=class extends y{get unit(){return"vmax"}},ti=class extends y{get unit(){return"deg"}},ei=class extends y{get unit(){return"s"}},ni=class extends y{get unit(){return"ms"}},ii=class extends y{get unit(){return"fr"}};var Y=typeof window!="undefined"?window.fetch:null,Ms=/(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:\/\/))?(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:([^\<\>\:\?\[\]\@\/\#\b\s]*)?)?\@)?(?:(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|((?:\[[0-9a-f]{1,4})+(?:\:[0-9a-f]{0,4}){2,7}\])|([^\<\>\:\?\[\]\@\/\#\b\s\.]{2,}(?:\.[^\<\>\:\?\[\]\@\/\#\b\s]*)*))?(?:\:(\d+))?((?:[^\?\[\]\#\s\b]*)+)?(?:\?([^\[\]\#\s\b]*))?(?:\#([^\#\s\b]*))?/i,Ss=/^\/|^\w+\:|^\\\\/,Cs=/^(\.+\/)|^w/,Qe=/\/\//g,Os=(()=>"process"in globalThis?process.platform!=="win32":!0)(),As={protocol:"",host:"",port:"",path:"",hash:"",query:"",search:"",hostname:"",pathname:""},re="'fetch' function is not defined";function oe(s){let t=x.GLOBAL.host!==s.host&&!!s.host;return{IS_CORS:t,mode:t?"cors":"same-origin",credentials:t?"omit":"include"}}function ks(s,t="cors"){return new Promise((e,n)=>{if(!Y)throw new Error(re);Y(s+"",Object.assign({method:"GET"},oe(s))).then(i=>{i.status<200||i.status>299?i.text().then(n):i.text().then(e)}).catch(i=>n(i))})}function Ds(s,t="cors"){return new Promise((e,n)=>{if(!Y)throw new Error(re);Y(s+"",Object.assign({method:"GET"},oe(s))).then(i=>{i.status<200||i.status>299?i.json().then(n):i.json().then(e).catch(n)}).catch(i=>n(i))})}function Ts(s,t="cors"){return new Promise((e,n)=>{if(!Y)throw new Error(re);Y(s+"",Object.assign({method:"GET"},oe(s))).then(i=>{i.status<200||i.status>299?i.text().then(n):i.arrayBuffer().then(e).catch(n)}).catch(i=>n(i))})}function Ls(s,t,e="same-origin"){return new Promise((n,i)=>{var r;if(t instanceof FormData)r=t;else{r=new FormData;for(let o in t)r.append(o,t[o]+"")}if(!Y)throw new Error(re);Y(s+"",Object.assign({method:"POST",body:r},oe(s))).then(o=>{o.status<200||o.status>299?o.text().then(i):o.json().then(n)}).catch(o=>o.text().then(i))})}function Rs(s,t){let e=JSON.stringify(t);return new Promise((n,i)=>{if(!Y)throw new Error(re);Y(s+"",Object.assign({method:"POST",body:e,headers:{"Content-Type":"application/json",Accept:"application/json"}},oe(s))).then(r=>{r.status<200||r.status>299?r.json().then(i):r.json().then(n)}).catch(r=>r.text().then(i))})}function Is(s){return s.replace(/\//g,"\\")}function ye(s){return s.replace(/\\/g,"/")}var x=class{constructor(t="",e=!1){this.protocol="",this.user="",this.pwd="",this.host="",this.port=0,this.path="",this.query="",this.hash="",this.map=null;let n=!0,i=!1,r=typeof document!="undefined"?document.location:As;if(typeof Location!="undefined"&&t instanceof Location&&(r=t,t="",i=!0),(!t||typeof t!="string")&&!(t instanceof x)&&(n=!1,i=!0,x.GLOBAL&&e))return x.GLOBAL;if(t instanceof x)this.protocol=t.protocol,this.user=t.user,this.pwd=t.pwd,this.host=t.host,this.port=t.port,this.path=ye(t.path.replace(Qe,"/")),this.query=t.query,this.hash=t.hash;else if(n){let o=t.match(Ms);if(!o||o[0]!==t)return new x("localhost");this.protocol=o[1]||(e?r.protocol:""),this.user=o[2]||"",this.pwd=o[3]||"",this.host=o[4]||o[5]||o[6]||(e?r.hostname:""),this.port=parseInt(o[7])||(e?parseInt(r.port):0),this.path=ye((o[8]||(e?r.pathname:"")).replace(Qe,"/")),this.query=o[9]||(e?r.search.slice(1):""),this.hash=o[10]||(e?r.hash.slice(1):"")}else if(i&&r&&(this.protocol=r.protocol.replace(/\:/g,""),this.host=r.hostname,this.port=parseInt(r.port),this.path=ye(r.pathname.replace(Qe,"/")),this.hash=r.hash.slice(1),this.query=r.search.slice(1),this._getQuery_(),e))return x.GLOBAL=this,x.GLOBAL;this._getQuery_()}static resolveRelative(t,e=x.GLOBAL?x.GLOBAL:typeof document!="undefined"&&typeof document.location!="undefined"?document.location.toString():""){let n=new x(e),i=new x(t);if(!(n+"")||!(i+""))return null;if(i.IS_RELATIVE){let r=n.path.split("/").slice(0,-1),o=i.path.split("/");for(let l=0;l<o.length;l++)switch(o[l].replace(/\.\.+/g,"..")){case".":r.splice(r.length-1,0);break;case"..":r.splice(r.length-1,1);break;default:r.push(o[l])}i.path=r.join("/").replace(/\/\//g,"/")}return i}async fetch(t){return Y?Y(this+"",t):xe("",this+"")}static addProtocolHandler(){}_getQuery_(){if(this.query){let t=this.query.split(/\&/g).map(e=>e.split("="));this.map=new Map(t)}}setPath(t){return this.path=t,this}setLocation(){history.replaceState({},"replaced state",`${this}`)}async DOES_THIS_EXIST(){return!0}toString(){let t=[];if(this.host&&(this.protocol&&t.push(`${this.protocol}://`),t.push(`${this.host}`)),this.port&&t.push(`:${this.port}`),this.path){let e=`${this.IS_RELATIVE||this.IS_ROOT?"":"/"}${this.path}`.replace(/\/\//g,"/");Os?t.push(ye(e)):t.push(Is(e))}return this.query&&t.push((this.query[0]=="?"?"":"?")+this.query),this.hash&&t.push("#"+this.hash),t.join("")}getData(){let t={};if(this.map)for(let[e,n]of this.map.entries())n?t[e]=n:t[e]=!0;return t}setData(t){let e=[];for(let n in t){let i=t[n];typeof i=="boolean"?i&&e.push(n):e.push(`${n}=${i.toString()}`)}return this.query=(e.length>0?"?"+e.join("&"):"").replace(/\ +/g,"%20"),this}fetchText(){return ks(this).then(t=>(x.RC.set(this.path,t),t))}fetchJSON(){return Ds(this).then(t=>(x.RC.set(this.path,t),t))}fetchBuffer(){return Ts(this).then(t=>(x.RC.set(this.path,t),t))}submitForm(t){return Ls(this,t)}submitJSON(t,e){return Rs(this,t)}goto(){}get file(){return this.path.split("/").pop()??""}get filename(){return this.file.split(".").shift()??""}get dir(){return(this.path.split("/").slice(0,-1).join("/")+"/").replace(/\/\//g,"/")}get pathname(){return this.path}get href(){return this.toString()}get ext(){let t=this.file.match(/\.([^\.]*)$/);return t?t[1]:""}set ext(t){t="."+t.replace(/\./g,"");let e=this.ext;e?this.path=this.path.replace("."+e,t):this.path+=t}get search(){return this.query}get IS_RELATIVE(){return Cs.test(this.path)}get IS_ROOT(){return!!Ss.test(this.path)}static getEXEURL(t){let e=t.url??"",n=new x(e);if(n.protocol=="file")n.protocol="";else if(n.protocol!="")return n;return new x(n)}static getCWDURL(){return x.GLOBAL}getRelativeTo(t){let e=new x(t);if(e.IS_RELATIVE||this.IS_RELATIVE)return e;let n=this.dir.split("/").filter(p=>!!p&&p!=="."),i=e.dir.split("/").filter(p=>!!p&&p!=="."),r=0,o=0,l=n.length-1,c=[],h=0;for(;h<i.length&&n.length&&i[h]==n[h];)h++;c.push(...n.slice(h).map(p=>".."),...i.slice(h));let u=c.join("/");u[0]!=="."&&(u="./"+u);let m=e.file;return e.path=u+(m?"/"+m:""),e}isSUBDIRECTORY_OF(t){if(t.IS_RELATIVE)return!1;let e=(this.IS_RELATIVE?x.resolveRelative(this,t)||new x:this).dir.split("/").slice(0,-1),n=t.dir.split("/").slice(0,-1);if(n.length>=e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}};x.RC=new Map;x.GLOBAL=typeof location!="undefined"?new x(location):new x;var Rt=null;x.simulate=function(){Rt=new Map,x.prototype.fetchText=async s=>(s=this.toString(),Rt.get(s)?Rt.get(s):""),x.prototype.fetchJSON=async s=>(s=this.toString(),Rt.get(s)?JSON.parse(Rt.get(s).toString()):{})};x.addResource=(s,t)=>s&&t&&(Rt||(Rt=new Map))&&Rt.set(s.toString(),t.toString);var si=!1;x.server=typeof globalThis.process=="undefined"?async()=>{}:async function(s){s=s||process.cwd()+"/";try{let t=await import("fs"),e=t.promises,n=await import("path"),i=await import("http");if(typeof global!="undefined"&&!si){si=!0,x.GLOBAL=new x(s);let r=global;r.document=r.document||{},r.document.location=x.GLOBAL,r.location=x.GLOBAL;let o=x.resolveRelative;x.resolveRelative=function(l,c=x.GLOBAL){let h=new x(c),u=new x(l);if(!u.IS_RELATIVE&&!u.IS_ROOT){let p=h.path.split("/").filter(w=>w!==".."),_=u+"",g=p.length;for(;g-->=1;)try{var m;if(p[g]=="node_modules"?m=new x([...p.slice(0,g+1),_].join("/")):m=new x([...p.slice(0,g+1),"node_modules",_].join("/")),t.statSync(m+""))return new x(m+"")}catch{}return u}return o(u,h)},Y=r.fetch=async(l,c)=>{if(c?.IS_CORS)return new Promise((h,u)=>{try{i.get(l,c,m=>{let p="";m.setEncoding("utf8"),m.on("data",_=>{p+=_}),m.on("end",()=>h(xe(p,l+"")))})}catch(m){u(m)}});try{let h=n.resolve(process.cwd(),""+l),u=await e.readFile(h);return xe(u,l+"")}catch(h){throw h}},x.prototype.DOES_THIS_EXIST=async function(){return this.IS_RELATIVE?!1:!!await e.stat(this.toString()).catch(l=>!1)}}}catch{console.error("Unable to load URI.server. Is this package running on a browser?");return}};Object.freeze(x.RC);Object.seal(x);var W=x;function xe(s,t){return{get type(){return"basic"},get ok(){return!0},get bodyUsed(){return!0},get redirected(){return!1},get status(){return 200},get statusText(){return"200"},get headers(){return null},get body(){return Uint8Array.from(s)},get trailer(){return(async()=>null)()},get url(){return t},clone(){return xe(s,t)},formData:()=>null,text:async()=>s instanceof Buffer?s.toString("utf8"):s,json:async()=>JSON.parse(s instanceof Buffer?s.toString("utf8"):s),arrayBuffer:async()=>s instanceof Buffer?s.buffer:Buffer.from(s)}}var xt=class extends W{static parse(t){if(t.tx=="url"||t.tx=="uri"){t.next().a("(");let e="";if(t.ty==t.types.str)e=t.tx.slice(1,-1),t.next().a(")");else{let n=t.peek();for(;!n.END&&n.next().tx!==")";);e=n.slice(t),t.sync().a(")")}return new xt(e)}if(t.ty==t.types.str){let e=t.tx.slice(1,-1);return t.next(),new xt(e)}return null}toString(){return`url("${super.toString()}")`}};var rt=class extends String{static parse(t){if(t.ty==t.types.str){let e=t.tx;return t.next(),new rt(e)}return null}constructor(t){super(t)}};var $t=class extends String{static parse(t){if(t.ty==t.types.id){let e=t.tx;return t.next(),new $t(e)}return null}};var Jt=class extends Array{static parse(t){if(t.tx=="inset"||t.tx=="circle"||t.tx=="ellipse"||t.tx=="polygon"||t.tx=="rect"){t.next().a("(");let e="";if(t.ty==t.types.str)e=t.tx.slice(1,-1),t.next().a(")");else{let n=t.pk;for(;!n.END&&n.next().tx!==")";);e=n.slice(t),t.sync().a(")")}return new Jt(e)}return null}};var ri=Math.pow,ve=Math.sqrt,oi=Math.acos,Me=Math.cos,Ye=Math.PI;function Et(s){return s<0?-ri(-s,1/3):ri(s,1/3)}function tn(s,t,e,n,i){var r=1-s,o=r*r,l=s*s;return r*o*t+3*o*s*e+l*3*r*n+l*s*i}var ut=class extends Float64Array{static parse(t){let e=null;switch(t.tx){case"cubic":t.next().a("(");let n=parseFloat(t.tx),i=parseFloat(t.next().a(",").tx),r=parseFloat(t.next().a(",").tx),o=parseFloat(t.next().a(",").tx);t.a(")"),e=new ut(n,i,r,o);break;case"ease":t.next(),e=new ut(.25,.1,.25,1);break;case"ease-in":t.next(),e=new ut(.42,0,1,1);break;case"ease-out":t.next(),e=new ut(0,0,.58,1);break;case"ease-in-out":t.next(),e=new ut(.42,0,.58,1);break}return e}constructor(t,e,n,i,r,o,l,c){super(8);if(typeof t=="number"){if(arguments.length==4){this[0]=0,this[1]=0,this[2]=t,this[3]=e,this[4]=n,this[5]=i,this[6]=1,this[7]=1;return}this[0]=t,this[1]=e,this[2]=n,this[3]=i,this[4]=r,this[5]=o,this[6]=l,this[7]=c;return}if(t instanceof Array){this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[4];return}}get x1(){return this[0]}set x1(t){this[0]=t}get x2(){return this[2]}set x2(t){this[2]=t}get x3(){return this[4]}set x3(t){this[4]=t}get x4(){return this[6]}set x4(t){this[6]=t}get y1(){return this[1]}set y1(t){this[1]=t}get y2(){return this[3]}set y2(t){this[3]=t}get y3(){return this[5]}set y3(t){this[5]=t}get y4(){return this[7]}set y4(t){this[7]=t}add(t,e=0){return new ut(this[0]+t,this[1]+e,this[2]+t,this[3]+e,this[4]+t,this[5]+e,this[6]+t,this[7]+e)}valY(t){return tn(t,this[1],this[3],this[5],this[7])}valX(t){return tn(t,this[0],this[2],this[4],this[6])}roots(t,e,n,i){var r=-t+3*e-3*n+i,o=(3*t-6*e+3*n)/r,l=(-3*t+3*e)/r,c=t/r,h=(3*l-o*o)/3,n=h/3,u=(2*o*o*o-9*o*l+27*c)/27,m=u/2,p=m*m+n*n*n,_,g,w,S,E;if(p<0){var v=-h/3,I=v*v*v,N=ve(I),b=-u/(2*N),F=b<-1?-1:b>1?1:b,B=oi(F),_t=Et(N),V=2*_t;return w=V*Me(B/3)-o/3,S=V*Me((B+2*Ye)/3)-o/3,E=V*Me((B+4*Ye)/3)-o/3,[E,w,S]}if(p===0)return _=m<0?Et(-m):-Et(m),w=2*_-o/3,S=-_-o/3,[S,w];var q=ve(p);return _=Et(q-m),g=Et(q+m),w=_-g-o/3,[w]}rootsY(){return this.roots(this[1],this[3],this[5],this[7])}rootsX(){return this.roots(this[0],this[2],this[4],this[6])}getYatX(t){var e=this[0]-t,n=this[2]-t,i=this[4]-t,r=this[6]-t,o=n*3,l=e*3,c=i*3,h=-e+o-c+r,u=1/h,m=1/3,p=(l-6*n+c)*u,_=(-l+o)*u,g=e*u,w=(3*_-p*p)*m,S=w*m,E=(2*p*p*p-9*p*_+27*g)*(1/27),v=E*.5,I=v*v+S*S*S,N,b,F;if(I<0){var B=-w/3,_t=B*B*B,V=ve(_t),q=-E/(2*V),At=q<-1?-1:q>1?1:q,st=oi(At),K=Et(V),kt=2*K;F=kt*Me((st+4*Ye)/3)-p/3}else if(I===0)N=v<0?Et(-v):-Et(v),F=-N-p*m;else{var dt=ve(I);N=Et(dt-v),b=Et(dt+v),F=N-b-p*m}return tn(F,this[1],this[3],this[5],this[7])}draw(t,e=1){t.beginPath(),t.moveTo(this[0]*e,this[1]*e),t.bezierCurveTo(this[2]*e,this[3]*e,this[4]*e,this[5]*e,this[6]*e,this[7]*e),t.stroke()}toString(){return`cubic-bezier(${this[2]},${this[3]},${this[4]},${this[5]})`}};var ai=class{constructor(t,e){this.color=t,this.percentage=e||null}toString(){return`${this.color}${this.percentage?" "+this.percentage.toString():""}`}},Xt=class{constructor(t=0,e=new y(0,"deg")){this.type=t,this.direction=e,this.stops=[]}static parse(t){typeof t=="string"&&(t=new P(t),t.USE_EXTENDED_ID=!0,t.tl=0,t.next());try{if(t.ty==t.types.id)switch(t.tx){case"radial-gradient":{let l=t.copy();for(t.next().a("(");!t.END&&t.ch!=")";)t.next();return t.a(")"),t.slice(l)}break;case"linear-gradient":t.next().a("(");let e,n,i=null;t.tx=="to"||t.ty==t.types.num&&(i=y.parse(t),t.a(","));let r=[];for(;!t.END&&t.ch!=")";){let l=R.parse(t),c=null;if(t.ch!=","&&((c=y.parse(t))||(c=G.parse(t))),wt(t),r.push(new ai(l,c)),t.ch==")")break}t.a(")");let o=new Xt(0,i);return o.stops=r,t.sync(t),o}}catch{}return null}toString(){let t=[];switch(this.type){case 0:t.push("linear-gradient("),Number(this.direction)!==0&&t.push(this.direction.toString()+",");break}for(let e=0;e<this.stops.length;e++)t.push(this.stops[e].toString()+(e<this.stops.length-1?",":""));return t.push(")"),t.join(" ")}};var Ns=s=>({parse:(t,e,n,i=0)=>(i=y.parse(t,e,n),s>0?s>1?r=>r.innerHeight<=i:r=>r.innerHeight>=i:r=>r.screen.height==i)}),Ps=s=>({parse:(t,e,n,i=0)=>(i=y.parse(t,e,n),s>0?s>1?r=>r.innerWidth>=i:r=>r.innerWidth<=i:r=>r.screen.width==i)});function J(s,t){switch(s){case"h":return Ns(t);case"w":return Ps(t)}return{parse:function(e){debugger}}}function H(s,t){let e=s.tx,n=1;e=="-"&&(e=s.n.tx,n=-1),s.pk.tx=="."&&(s.next(),e+=s.tx),s.pk.ty==s.types.number&&(s.next(),e+=s.tx),s.pk.tx=="e"&&(s.next(),e+=s.tx),s.pk.tx=="-"&&(s.next(),e+=s.tx),s.pk.ty==s.types.number&&(s.next(),e+=s.tx);let i=parseFloat(e)*n;if(s.next(),s.ch!==")"&&s.ch!==","){switch(s.tx){case"%":break;case"grad":i*=Math.PI/200;break;case"deg":i*=Math.PI/180;break;case"turn":i*=Math.PI*2;break;case"px":break;case"em":break}s.next()}return i}function ae(s,t){let e=s;for(e instanceof P||(e=k(e));!e.END;){let n=e.tx;switch(e.next(),n){case"matrix":let i=H(e.a("(")),r=H(e.a(",")),o=H(e.a(",")),l=H(e.a(",")),c=-Math.atan2(r,i),h=i/Math.cos(c)||0,u=r/-Math.sin(c)||0,m=o/Math.sin(c)||0,p=l/Math.cos(c)||0;u!==0?t.sx=(h+u)*.5:t.sx=h,m!==0?t.sy=(m+p)*.5:t.sy=p,t.px=H(e.a(",")),t.py=H(e.a(",")),t.r=c,e.a(")");break;case"matrix3d":break;case"translate":t.px=H(e.a("("),"left"),e.a(","),t.py=H(e,"left"),e.a(")");continue;case"translateX":t.px=H(e.a("("),"left"),e.a(")");continue;case"translateY":t.py=H(e.a("("),"left"),e.a(")");continue;case"translateZ":t=$.FromCSS_Transform2D(t),t.pz=H(e.a("("),"left"),e.a(")");continue;case"scale":t.sx=H(e.a("("),"left"),e.ch==","?(e.a(","),t.sy=H(e,"left")):t.sy=t.sx,e.a(")");continue;case"scaleX":t.sx=H(e.a("("),"left"),e.a(")");continue;case"scaleY":t.sy=H(e.a("("),"left"),e.a(")");continue;case"scaleZ":t=$.FromCSS_Transform2D(t),t.sz=H(e.a("(")),e.a(")");break;case"rotate":t.r=H(e.a("(")),e.a(")");continue;case"rotateX":t=$.FromCSS_Transform2D(t),t.rx=H(e.a("(")),e.a(")");break;case"rotateY":t=$.FromCSS_Transform2D(t),t.ry=H(e.a("(")),e.a(")");break;case"rotateZ":t instanceof ot?t.r=H(e.a("(")):(t=$.FromCSS_Transform2D(t),t.rz=H(e.a("("))),e.a(")");break;case"rotate3d":break;case"perspective":break}e.next()}return t}var en=Math.cos,nn=Math.sin,li=s=>Math.round(s*1e3)*.001,ot=class extends Float64Array{static parse(t){return ae(t,new ot)}static ToString(t=[0,0],e=[1,1],n=0){var i=0,r=0,o=1,l=1,c=0,h=1,u=0;return t.length==5?(i=t[0],r=t[1],o=t[2],l=t[3],c=t[4]):(i=t[0],r=t[1],o=e[0],l=e[1],c=n),c!==0&&(h=Math.cos(c),u=Math.sin(c)),`matrix(${[h*o,-u*o,l*u,l*h,i,r].map(li).join(",")})`}constructor(t,e,n,i,r){super(5);if(this.sx=1,this.sy=1,t!==void 0)if(t instanceof ot)this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4];else{if(typeof t=="string")return ae(t,this);this[0]=t||0,this[1]=e||0,this[2]=n||1,this[3]=i||1,this[4]=r||0}}get type(){return"transform-2D"}get px(){return this[0]}set px(t){this[0]=t}get py(){return this[1]}set py(t){this[1]=t}get sx(){return this[2]}set sx(t){this[2]=t}get sy(){return this[3]}set sy(t){this[3]=t}get r(){return this[4]}set r(t){this[4]=t}set scale(t){this.sx=t,this.sy=t}get scale(){return this.sx}lerp(t,e){let n=new ot;for(let i=0;i<5;i++)n[i]=this[i]+(t[i]-this[i])*e;return n}toString(){return ot.ToString(this)}copy(){let t=new ot;for(let e=0;e<5;e++)t[e]=this[e];return t}from(t){let e=new ot;return typeof t=="string"&&ae(t,e),e}setCTX(t){let e=1,n=0;this[4]!=0&&(e=Math.cos(this[4]),n=Math.sin(this[4])),t.transform(e*this[2],-n*this[2],this[3]*n,this[3]*e,this[0],this[1])}getLocalX(t){return(t-this.px)/this.sx}getLocalY(t){return(t-this.py)/this.sy}},$=class extends Float64Array{static FromCSS_Transform2D(t){return t instanceof $?t:new $(t)}static ToString(t=[0,0,1,1,0,0,0,0,1]){var e=0,n=0,i=0,r=0,o=0,l=0,c=0,h=0,u=0,m=0,p=0,_=0,g=0,w=0,S=0,E=0,v=0,I=0,N=0,b=0,F=0;m=t[0],p=t[1],_=t[7],c=t[2],h=t[3],u=t[8],e=en(t[5]),r=nn(t[5]),n=en(t[6]),o=nn(t[6]),i=en(t[4]),l=nn(t[4]);let B=i*n,_t=i*o*r-l*e,V=i*o*e+l*r,q=l*n,At=l*o*r+i*e,st=l*o*e-l*r,K=-o,kt=n*r,dt=n*e;return g=B*c,E=_t*c,N=V*c,w=q*h,v=At*h,b=st*h,S=K*u,I=kt*u,F=dt*u,`matrix3d(${[g,w,S,0,E,v,I,0,N,b,F,0,m,p,_,1].map(li).join(",")})`}get px(){return this[0]}set px(t){this[0]=t}get py(){return this[1]}set py(t){this[1]=t}get pz(){return this[7]}set pz(t){this[7]=t}get sx(){return this[2]}set sx(t){this[2]=t}get sy(){return this[3]}set sy(t){this[3]=t}get sz(){return this[8]}set sz(t){this[8]=t}set r(t){this.rx=0,this.ry=0,this.rz=t}get r(){return this.rz}get rx(){return this[5]}set rx(t){this[5]=t}get ry(){return this[6]}set ry(t){this[6]=t}get rz(){return this[4]}set rz(t){this[4]=t}set scale(t){this.sx=t,this.sy=t}get scale(){return this.sx}constructor(t,e=0,n=0,i=0,r=1,o=1,l=1,c=0,h=0,u=0){super(9);if(this[0]=e,this[1]=n,this[2]=r,this[3]=o,this[4]=u,this[5]=c,this[6]=h,this[7]=i,this[8]=l,t!==void 0)if(t instanceof ot){let m=t;this.px=m.px,this.py=m.py,this.r=m.r,this.sx=m.sx,this.sy=m.sy}else typeof t=="string"&&ae(t,this)}lerp(t,e){let n=new $;for(let i=0;i<9;i++)n[i]=this[i]+(t[i]-this[i])*e;return n}toString(){return $.ToString(this)}copy(){let t=new $;for(let e=0;e<9;e++)t[e]=this[e];return t}from(t){let e=new $;return typeof t=="string"&&ae(t,e),e}};var M={M:0,m:1,L:2,l:3,h:4,H:5,V:6,v:7,C:8,c:9,S:10,s:11,Q:12,q:13,T:14,t:15,A:16,a:17,Z:18,z:19,pairs:20};function Se(s){let t=1,e=s.tx;return e=="-"&&(t=-1,e=s.n.tx),s.next(),parseFloat(e)*t}function mt(s,t){let e=Se(s);s.ch==","&&s.next();let n=Se(s);t.push(e,n)}function Zt(s,t){for(;(s.ty==s.types.num||s.ch=="-")&&!s.END;)t.push(M.pairs),mt(s,t)}var vt=class extends Array{static FromString(t,e){let n=k(t);for(n.USE_EXTENDED_NUMBER_TYPES=!0;!n.END;){let i=!1,r=0,o=0;switch(n.ch){case"m":i=!0;case"M":n.next(),e.push(i?M.m:M.M),mt(n,e),Zt(n,e);continue;case"h":i=!0;case"H":n.next(),r=Se(n),e.push(i?M.h:M.H,r);continue;case"v":i=!0;case"V":n.next(),o=Se(n),e.push(i?M.v:M.V,o);continue;case"l":i=!0;case"L":n.next(),e.push(i?M.l:M.L),mt(n,e),Zt(n,e);continue;case"c":i=!0;case"C":n.next(),e.push(i?M.c:M.C),mt(n,e),mt(n,e),mt(n,e),Zt(n,e);continue;case"s":i=!0;case"S":n.next(),e.push(i?M.s:M.S),mt(n,e),mt(n,e),Zt(n,e);continue;case"q":i=!0;case"Q":n.next(),e.push(i?M.q:M.Q),mt(n,e),mt(n,e),Zt(n,e);continue;case"t":i=!0;case"T":n.next(),e.push(i?M.t:M.T),mt(n,e),Zt(n,e);continue;case"z":i=!0;case"Z":e.push(i?M.z:M.Z)}n.next()}}static ToString(t){let e=[],n=t.length,i=0;for(;i<n;)switch(t[i++]){case M.M:e.push("M",t[i++],t[i++]);break;case M.m:e.push("m",t[i++],t[i++]);break;case M.L:e.push("L",t[i++],t[i++]);break;case M.l:e.push("l",t[i++],t[i++]);break;case M.h:e.push("h",t[i++]);break;case M.H:e.push("H",t[i++]);break;case M.V:e.push("V",t[i++]);break;case M.v:e.push("v",t[i++]);break;case M.C:e.push("C",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);break;case M.c:e.push("c",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);break;case M.S:e.push("S",t[i++],t[i++],t[i++],t[i++]);break;case M.s:e.push("s",t[i++],t[i++],t[i++],t[i++]);break;case M.Q:e.push("Q",t[i++],t[i++],t[i++],t[i++]);break;case M.q:e.push("q",t[i++],t[i++],t[i++],t[i++]);break;case M.T:e.push("T",t[i++],t[i++]);break;case M.t:e.push("t",t[i++],t[i++]);break;case M.Z:e.push("Z");break;case M.z:e.push("z");break;case M.pairs:e.push(t[i++],t[i++]);break;case M.A:case M.a:default:i++}return e.join(" ")}constructor(t){super();if(typeof t=="string")vt.FromString(t,this);else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.push(parseFloat(t[e]))}copy(t){return new vt(t)}toString(){return vt.ToString(this)}lerp(t,e,n=new vt(t)){let i=Math.min(this.length,t.length);for(let r=0;r<i;r++)n[r]=this[r]+(t[r]-this[r])*e;return n}};var Ce=class extends String{static parse(t){if(t.ty==t.types.str){let e=t.tx;return t.next(),new rt(e)}if(t.ty==t.types.id){let e=t.peek();for(;e.type==t.types.id&&!e.END;)e.next();let n=e.slice(t);return t.sync(),new rt(n)}return null}};var It=class{constructor(t,e,n,i){this.top=t,this.right=e,this.bottom=n,this.left=i}static parse(t){let e,n,i,r;return t.tx=="rect"&&t.next().tx=="("&&(t.next(),e=t.text=="auto"?new y(0,"%"):y.parse(t),e&&(t.next().tx==","&&t.next(),r=t.text=="auto"?new y(100,"%"):y.parse(t),r&&(t.next().tx==","&&t.next(),i=t.text=="auto"?new y(100,"%"):y.parse(t),i&&(t.next().tx==","&&t.next(),n=t.text=="auto"?new y(0,"%"):y.parse(t),t.text==")"))))?(t.next(),new It(e,r,i,n)):null}from(){return new It(this.top,this.right,this.bottom,this.left)}copy(){return new It(this.top,this.right,this.bottom,this.left)}toString(){return`rect(${[this.top,this.right,this.bottom,this.left].join(",")})`}};var U={color:R,flex:y,length_:y,time_:y,angle_:y,frequency_:y,percentage_:G,number_:yt,integer_:yt,resolution:y,url:xt,uri:xt,image:xt,id:$t,string:rt,shape:Jt,cubic_bezier:ut,gradient:Xt,linear_gradient:Xt,transform3D:$,transform2D:ot,path:vt,rect:It,fontname:Ce,m_width:J("w",0),m_min_width:J("w",1),m_max_width:J("w",2),m_height:J("h",0),m_min_height:J("h",1),m_max_height:J("h",2),m_device_width:J("dw",0),m_min_device_width:J("dw",1),m_max_device_width:J("dw",2),m_device_height:J("dh",0),m_min_device_height:J("dh",1),m_max_device_height:J("dh",2)},ci={direction:"ltr|rtl",unicode_bidi:"normal|embed|isolate|bidi-override|isolate-override|plaintext",writing_mode:"horizontal-tb|vertical-rl|vertical-lr",text_orientation:"mixed|upright|sideways",glyph_orientation_vertical:"auto|0deg|90deg|0|90",text_combine_upright:"none|all",position:"static|relative|absolute|sticky|fixed",top:"<length>|<percentage>|<number>|auto",left:"<length>|<percentage>|<number>|auto",bottom:"<length>|<percentage>|<number>|auto",right:"<length>|<percentage>|<number>|auto",offset_before:"<length>|<percentage>|auto",offset_after:"<length>|<percentage>|auto",offset_start:"<length>|<percentage>|auto",offset_end:"<length>|<percentage>|auto",z_index:"auto|<integer>",display:"[ <display_outside> || <display_inside> ] | <display_listitem> | <display_internal> | <display_box> | <display_legacy>",filter:"none|<filter_value_list>",filter_value_list:"[<filter_function>|<url>]+",filter_function:"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue_rotate()>|<invert()>|<opacity()>|<sepia()>|<saturate()>",backdrop_filter:"<filter_value_list>",margin:"[ <length> | <percentage> | 0 | auto ]{1,4}",margin_top:"<length>|<percentage>|0|auto",margin_right:"<length>|<percentage>|0|auto",margin_bottom:"<length>|<percentage>|0|auto",margin_left:"<length>|<percentage>|0|auto",margin_trim:"none|in-flow|all",padding:"[<length>|<percentage>|0|auto]{1,4}",padding_top:"<length>|<percentage>|0|auto",padding_right:"<length>|<percentage>|0|auto",padding_bottom:"<length>|<percentage>|0|auto",padding_left:"<length>|<percentage>|0|auto",float:"left|right|none",clear:"left|right|both|none",box_sizing:"content-box | border-box",width:"<length>|<percentage>|min-content|max-content|fit-content|auto",height:"<length>|<percentage>|min-content|max-content|fit-content|auto",min_width:"<length>|<percentage>|min-content|max-content|fit-content|auto",max_width:"<length>|<percentage>|min-content|max-content|fit-content|auto|none",min_height:"<length>|<percentage>|min-content|max-content|fit-content|auto",max_height:"<length>|<percentage>|min-content|max-content|fit-content|auto|none",color:"<color>|<gradient>",opacity:"<alphavalue>",background_color:"<color>",background_image:"<bg_image>#",background_repeat:"<repeat_style>#",background_attachment:"scroll|fixed|local",background_position:"<background_position_x>||<background_position_y>",background_position_x:"<length_percentage>|left|center|right",background_position_y:"<length_percentage>|top|center|bottom",background_clip:"<box>#|text",background_origin:"<box>#",background_size:"<bg_size>#",background:"<final_bg_layer>#",border_color:"<color>{1,4}",border_top_color:"<color>",border_right_color:"<color>",border_bottom_color:"<color>",border_left_color:"<color>",border_top_width:"<line_width>",border_right_width:"<line_width>",border_bottom_width:"<line_width>",border_left_width:"<line_width>",border_width:"<line_width>{1,4}",border_style:"<line_style>{1,4}",border_top_style:"<line_style>",border_right_style:"<line_style>",border_bottom_style:"<line_style>",border_left_style:"<line_style>",border_top:"<line_width>||<line_style>||<color>",border_right:"<line_width>||<line_style>||<color>",border_bottom:"<line_width>||<line_style>||<color>",border_left:"<line_width>||<line_style>||<color>",border_radius:"<length_percentage>{1,4}",border_top_left_radius:"<length_percentage>{1,2}",border_top_right_radius:"<length_percentage>{1,2}",border_bottom_right_radius:"<length_percentage>{1,2}",border_bottom_left_radius:"<length_percentage>{1,2}",border:"<line_width>||<line_style>||<color>|none",border_image:"<border_image_source>||<border_image_slice>[/<border_image_width>|/<border_image_width>?/<border_image_outset>]?||<border_image_repeat>",border_image_source:"none|<image>",border_image_slice:"[<number>|<percentage>]{1,4}&&fill?",border_image_width:"[<length_percentage>|<number>|auto]{1,4}",border_image_outset:"[<length>|<number>]{1,4}",border_image_repeat:"[stretch|repeat|round|space]{1,2}",box_shadow:"none|<shadow>#",line_height:"normal|<percentage>|<length>|<number>",overflow_x:"visible|hidden|scroll|auto",overflow_y:"visible|hidden|scroll|auto",overflow:"visible|hidden|scroll|auto",font_display:"auto|block|swap|fallback|optional",font_family:"[<generic_family>|<family_name>]#",font_language_override:"normal|<string>",font:"[[<font_style>||<font_variant>||<font_weight>]?<font_size>[/<line_height>]?<font_family>]|caption|icon|menu|message-box|small-caption|status-bar",font_max_size:"<absolute_size>|<relative_size>|<length>|<percentage>|infinity",font_min_size:"<absolute_size>|<relative_size>|<length>|<percentage>",font_optical_sizing:"auto|none",font_pallette:"normal|light|dark|<identifier>",font_size:"<absolute_size>|<relative_size>|<length>|<percentage>",font_stretch:"<percentage>|normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique<angle>?",font_synthesis:"none|[weight||style]",font_synthesis_small_caps:"auto|none",font_synthesis_style:"auto|none",font_synthesis_weight:"auto|none",font_variant_alternates:"normal|[stylistic(<feature-value-name>)||historical-forms||styleset(<feature-value-name>#)||character-variant(<feature-value-name>#)||swash(<feature-value-name>)||ornaments(<feature-value-name>)||annotation(<feature-value-name>)]",font_variant_emoji:"auto|text|emoji|unicode",font_variation_settings:" normal|[<string><number>]#",font_size_adjust:"<number>|none",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",font_kerning:" auto | normal | none",font_variant:"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby||[sub|super]]",font_variant_ligatures:"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values> ]",font_variant_position:"normal|sub|super",font_variant_caps:"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps",font_variant_numeric:"normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]",font_variant_east_asian:" normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ]",hanging_punctuation:"none|[first||[force-end|allow-end]||last]",hyphens:"none|manual|auto",letter_spacing:"normal|<length>",line_break:"auto|loose|normal|strict|anywhere",overflow_wrap:"normal|break-word|anywhere",tab_size:"<length>|<number>",text_align:"start|end|left|right|center|justify|match-parent|justify-all",text_align_all:"start|end|left|right|center|justify|match-parent",text_align_last:"auto|start|end|left|right|center|justify|match-parent",text_indent:"[[<length>|<percentage>]&&hanging?&&each-line?]",text_justify:"auto|none|inter-word|inter-character",text_transform:"none|[capitalize|uppercase|lowercase]||full-width||full-size-kana",white_space:"normal|pre|nowrap|pre-wrap|break-spaces|pre-line",word_break:" normal|keep-all|break-all|break-word",word_spacing:"normal|<length>",word_wrap:"  normal | break-word | anywhere",text_decoration:"<text-decoration-line>||<text-decoration-style>||<color>",text_decoration_color:"<color>",text_decoration_line:"none|[underline||overline||line-through||blink]",text_decoration_style:"solid|double|dotted|dashed|wavy",text_emphasis:"<text-emphasis-style>||<text-emphasis-color>",text_emphasis_color:"<color>",text_emphasis_position:"[over|under]&&[right|left]?",text_emphasis_style:"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>",text_shadow:"none|[<color>?&&<length>{2,3}]#",text_underline_position:"auto|[under||[left|right]]",align_content:"flex-start | flex-end | center | space-between | space-around | stretch",align_items:"flex-start | flex-end | center | baseline | stretch",align_self:"auto | flex-start | flex-end | center | baseline | stretch",flex:"none|[<flex-grow> <flex-shrink>?||<flex-basis>]",flex_basis:"content|<width>",flex_direction:"row | row-reverse | column | column-reverse",flex_flow:"<flex-direction>||<flex-wrap>",flex_grow:"<number>",flex_shrink:"<number>",flex_wrap:"nowrap|wrap|wrap-reverse",justify_content:"flex-start | flex-end | center | space-between | space-around | space-evenly",justify_items:"auto|normal | stretch | flex-start | flex-end | center | self-start | self-end | left | right | end | start",order:"<integer>",transition:"<single_transition>#",transition_delay:"<time>#",transition_duration:"<time>#",transition_property:"none|<single_transition_property>#",transition_timing_function:"<timing_function>#",animation:"<single_animation>#",animation_name:"[none|<keyframes_name>]#",animation_duration:"<time>#",animation_timing_function:"<timing_function>#",animation_iteration_count:"<single_animation_iteration_count>#",animation_direction:"<single_animation_direction>#",animation_play_state:"<single_animation_play_state>#",animation_delayed:"<time>#",animation_fill_mode:"<single_animation_fill_mode>#",pointer_events:"visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|none|auto",user_select:"none|auto|text|contain|all",caret_color:"auto|<color>",cursor:"[[<url> [<number><number>]?,]*[auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|grab|grabbing|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out]]",outline:"[<outline-color>||<outline-style>||<outline-width>]",outline_color:"<color>|invert",outline_offset:"<length>",outline_style:"auto|<border-style>",outline_width:"<line-width>",resize:"none|both|horizontal|vertical",text_overflow:"clip|ellipsis",bookmark_label:"<content-list>",bookmark_level:"none|<integer>",bookmark_state:"open|closed",quotes:"none|[<string><string>]+",string_set:"none|[<custom-ident><string>+]#",caption_side:"top|bottom",table_layout:"auto|fixed",border_collapse:"collapse|separate",border_spacing:"<length><length>?",empty_cells:"show|hide",page_break_before:"auto|always|avoid|left|right",page_break_after:"auto|always|avoid|left|right",page_break_inside:"auto|avoid|left|right",orphans:"<integer>",widows:"<integer>",counter_set:"[<custom-ident> <integer>?]+|none",list_style:"<list-style-type>||<list-style-position>||<list-style-image>",list_style_image:"<url>|none",list_style_position:"inside|outside",list_style_type:"<counter-style>|<string>|none",marker_side:"list-item|list-container",vertical_align:"baseline|sub|super|top|text-top|middle|bottom|text-bottom|<percentage>|<length>",transform:"<transform2D>|none",perspective:"<length>|none",perspective_origin:"<position>",transform_origin:"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]]<length>?",transform_style:"flat|preserve-3d",visibility:"visible|hidden|collapse",content:"normal|none|[<string>|<uri>|<counter>|attr(<id>)|open-quote|close-quote|no-open-quote|no-close-quote]+",quotas:"[<string><string>]+|none",counter_reset:"[<identifier><integer>?]+|none",counter_increment:"[<identifier><integer>?]+|none",grid:"<grid-template>|<grid-template-rows>/[auto-flow && dense?]<grd-auto-columns>?|[auto-flow && dense?]<grid-auto-rows>?/<grid-template-columns>",grid_area:"<grid-line>[/<grid-line>]{0,3}",grid_auto_columns:"<track-size>+",grid_auto_rows:"<track-size>+",grid_auto_flow:"[row|column]||dense",grid_column:"<grid-line>[/<grid-line>]?",grid_column_end:"<grid-line>",grid_column_start:"<grid-line>",grid_row:"<grid-line>[/<grid-line>]?",grid_row_end:"<grid-line>",grid_row_start:"<grid-line>",grid_template:"none | [ <grid-template-rows> / <grid-template-columns> ] | [ <line-names>? <string> <track-size>? <line-names>? ]+ [ / <explicit-track-list> ]?",grid_template_areas:"none | <string>+",grid_template_columns:"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?",grid_template_rows:"none | <track-list> | <auto-track-list> | subgrid <line-name-list>?",clip:"<rect>|auto"},hi={calc:"calc(<calc_sum>)",grid_line:"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]",track_list:"[<line-names>?[<track-size>|<track-repeat>]]+<line-names>?",auto_track_list:"[<line-names>?[<fixed-size>|<fixed-repeat>]]*<line-names>?<auto-repeat>",explicit_track_list:"[<line-names>?<track-size>]+<line-names>?",line_name_list:"[<line-names>|<name-repeat>]+",track_size:"<track-breadth>|minmax(<inflexible-breadth>,<track-breadth>)|fit-content(<length-percentage>)",fixed_size:"<fixed-breadth>|minmax(<fixed-breadth>,<track-breadth>)|minmax(<inflexible-breadth>,<fixed-breadth>)",track_breadth:" <length-percentage> | <flex> | min-content | max-content | auto",inflexible_breadth:"<length-percentage> | min-content | max-content | auto",fixed_breadth:"<length-percentage>",line_names:"[<custom-ident>*]",track_repeat:"repeat",auto_repeat:"repeat",fixed_repeat:"repeat",name_repeat:"repeat",counter_style:"<numeric_counter_style>|<alphabetic_counter_style>|<symbolic_counter_style>|<japanese_counter_style>|<korean_counter_style>|<chinese_counter_style>|ethiopic-numeric",numeric_counter_style:"decimal|decimal-leading-zero|arabic-indic|armenian|upper-armenian|lower-armenian|bengali|cambodian|khmer|cjk-decimal|devanagari|georgian|gujarati|gurmukhi|hebrew|kannada|lao|malayalam|mongolian|myanmar|oriya|persian|lower-roman|upper-roman|tamil|telugu|thai|tibetan",symbolic_counter_style:"disc|circle|square|disclosure-open|disclosure-closed",alphabetic_counter_style:"lower-alpha|lower-latin|upper-alpha|upper-latin|cjk-earthly-branch|cjk-heavenly-stem|lower-greek|hiragana|hiragana-iroha|katakana|katakana-iroha",japanese_counter_style:"japanese-informal|japanese-formal",korean_counter_style:"korean-hangul-formal|korean-hanja-informal|and korean-hanja-formal",chinese_counter_style:"simp-chinese-informal|simp-chinese-formal|trad-chinese-informal|and trad-chinese-formal",content_list:"[<string>|contents|<image>|<quote>|<target>|<leader()>]+",content_replacement:"<image>",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>][top|center|bottom|<length-percentage>]?|[[left|right]<length-percentage>]&&[[top|bottom]<length-percentage>]]",east_asian_variant_values:"[jis78|jis83|jis90|jis04|simplified|traditional]",alphavalue:"<number>",box:"border-box|padding-box|content-box",absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",relative_size:"larger|smaller",final_bg_layer:"<background_color>||<bg_image>||<bg_position>[/<bg_size>]?||<repeat_style>||<attachment>||<box>||<box>",bg_image:"<url>|<gradient>|none",repeat_style:"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}",background_attachment:"<attachment>#",bg_size:"[<length_percentage>|auto]{1,2}|cover|contain",bg_position:"[top|center|bottom|<percentage>|<length>]||[left|center|right|<percentage>|<length>]",attachment:"scroll|fixed|local",line_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",line_width:"thin|medium|thick|<length>",shadow:"inset?<length>{2,4}&&<color>?",family_name:"<fontname>",generic_family:"serif|sans-serif|cursive|fantasy|monospace",identifier:"<id>",custom_ident:"<id>",timing_function:"linear|<cubic_bezier_timing_function>|<step_timing_function>|<frames_timing_function>",cubic_bezier_timing_function:"<cubic_bezier>",step_timing_function:"step-start|step-end|'steps()'",frames_timing_function:"'frames()'",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_iteration_count:"infinite|<number>",single_transition_property:"all|<custom_ident>",single_transition:"[none|<single_transition_property>]||<time>||<timing_function>||<time>",single_animation:"<time>||<timing_function>||<time>||<single_animation_iteration_count>||<single_animation_direction>||<single_animation_fill_mode>||<single_animation_play_state>||[none|<keyframes_name>]",keyframes_name:"<string>",time:"<time_>|<calc>",angle:"<angle_>|<calc>",frequency:"<frequency_>|<calc>",length:"<length_>|<calc>",percentage:"<percentage_>|<calc>",number:"<number_>|<calc>",integer:"<integer_>|<calc>",length_percentage:"<length>|<percentage>",frequency_percentage:"<frequency>|<percentage>",angle_percentage:"<angle>|<percentage>",time_percentage:"<time>|<percentage>",number_percentage:"<percentage>|<number>",clip_path:"<clip_source>|[<basic_shape>||<geometry_box>]|none",clip_source:"<url>",shape_box:"<box>|margin-box",geometry_box:"<shape_box>|fill-box|stroke-box|view-box",basic_shape:"<CSS_Shape>",ratio:"<integer>/<integer>",common_lig_values:"[ common-ligatures | no-common-ligatures ]",discretionary_lig_values:"[ discretionary-ligatures | no-discretionary-ligatures ]",historical_lig_values:"[ historical-ligatures | no-historical-ligatures ]",contextual_alt_values:"[ contextual | no-contextual ]",display_outside:"block | inline | run-in",display_inside:"flow | flow-root | table | flex | grid | ruby",display_listitem:"<display_outside>? && [ flow | flow-root ]? && list-item",display_internal:"table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container",display_box:"contents | none",display_legacy:"inline-block | inline-table | inline-flex | inline-grid"};function Oe(s){let t=s.tx;switch(s.tx){case"initial":case"inherit":case"unset":case"revert":return s.pk.pk.END?1:0}return 2}var at=class{constructor(){this.id=at.step++,this.r=[NaN,NaN],this.terms=[],this.HAS_PROP=!1,this.name="",this.REQUIRE_COMMA=!1}get type(){return"jux"}mergeValues(t,e){t&&(t.v?Array.isArray(t.v)?t.v.push(e.v):t.v=[t.v,e.v]:t.v=e.v)}sp(t,e){this.HAS_PROP&&t&&(Array.isArray(t)&&t.length===1&&Array.isArray(t[0])?e[0]=t[0]:e[0]=t)}isRepeating(){return!(isNaN(this.r[0])&&isNaN(this.r[1]))}parse(t){let e=[];return this.parseLVL1(t instanceof k.constructor?t:k(t+""),e),e}checkForComma(t,e,n=[],i=0){if(this.REQUIRE_COMMA){if(e&&(i>0?e.push(",",...n):e.push(...n)),t.ch!==",")return!1;t.next()}else e&&e.push(...n);return!0}parseLVL1(t,e=[],n=!0){typeof t=="string"&&(t=k(t));let i=!1;if(n){switch(Oe(t)){case 1:return this.sp(t.tx,e),!0;case 0:return!1}i=this.parseLevel2(t,e,this.start,this.end)}else i=this.parseLevel2(t,e,this.start,this.end);return i}parseLevel2(t,e,n,i){let r=!1,o=t.copy(),l=[],c=0;t:for(c=0;c<i&&!o.END;c++){let h=o.copy(),u=[];for(let m=0,p=this.terms.length;m<p;m++){let _=this.terms[m];if(!_.parseLVL1(h,u,!1)&&!_.OPTIONAL)break t}if(o.sync(h),r=!0,!this.checkForComma(o,l,u,c)){c++;break}}return c<n?!1:(e.push(...l),t.sync(o),r)}get start(){return isNaN(this.r[0])?1:this.r[0]}set start(t){}get end(){return isNaN(this.r[1])?1:this.r[1]}set end(t){}get OPTIONAL(){return this.r[0]===0}set OPTIONAL(t){}};at.step=0;var sn=class extends at{get type(){return"and"}parseLevel2(t,e,n,i){let r=new Array(this.terms.length),o=this.terms.length,l=!1;t:for(let c=0;c<i&&!t.END;c++){let h=r.fill(0),u=t.copy(),m=[];e:for(;!u.END;){for(let p=0;p<o;p++){if(h[p]===2)continue;let _=this.terms[p],g=[];if(!_.parseLVL1(u,g,!1))_.OPTIONAL?h[p]=1:h[p]=0;else{m.push(...g),h[p]=2;continue e}}if(h.reduce((p,_)=>p*_,1)===0)break t;break}if(t.sync(u),l=!0,!this.checkForComma(u,e,m,c))break}return l}},Ae=class extends at{get type(){return"or"}parseLevel2(t,e,n,i){let r=new Array(this.terms.length),o=this.terms.length,l=!1,c=!0;t:for(let h=0;h<i&&!t.END;h++){let u=r.fill(0),m=t.copy(),p=[];e:for(;!m.END;){for(let _=0;_<o;_++){if(u[_]===2)continue;if(this.terms[_].parseLVL1(m,p,!1)){c=!1,u[_]=2;continue e}}if(c)break t;break}if(l=!0,t.sync(m),!this.checkForComma(m,e,p,h))break}return l}};Ae.step=0;var ke=class extends at{get type(){return"one_of"}parseLevel2(t,e,n,i){let r=!1;for(let o=0;o<i&&!t.END;o++){let l=!1,c=t.copy(),h=[];for(let u of this.terms)if(h.length=0,u.parseLVL1(c,h,!1)){l=!0;break}if(!l||(t.sync(c),r=!0,!this.checkForComma(c,e,h,o)))break}return r}};ke.step=0;function ui(s){let t=s.IWS;s.IWS=!1;let e=s.pk,n="";for(;!e.END&&e.ty!=e.types.ws&&(e.ty&(k.types.id|k.types.num)||e.tx=="-"||e.tx=="_");)e.next();return n=e.slice(s).trim(),s.sync(),s.tl=0,s.IWS=t,n}var Nt=class{constructor(t){typeof t=="string"&&(t=new P(t));let e=ui(t);t.type==t.types.string&&(e=e.slice(1,-1)),this.value=e,this.HAS_PROP=!1}get type(){return"term"}seal(){}parse(t){let e=[];return this.parseLVL1(t instanceof k.constructor?t:k(t+""),e),e}parseLVL1(t,e,n=!0){if(typeof t=="string"&&(t=k(t)),n)switch(Oe(t)){case 1:return e.push(t.tx),!0;case 0:return!1}let i=t.copy();return ui(i)==this.value?(t.sync(i),t.tl=0,t.next(),e.push(this.value),!0):!1}get OPTIONAL(){return!1}set OPTIONAL(t){}},rn=class extends Nt{constructor(t,e,n,i){if(t instanceof at)return t;super(k(t));this.value=null;let r={is:!1};if(typeof t=="string")var o=t.replace(/\-/g,"_");if((this.value=U[o])||(this.value=e(o,r,n,i)),!this.value)return new Nt(t);if(this.value instanceof at)return this.value;if(this.value instanceof Nt)return this.value}parseLVL1(t,e,n=!0){if(typeof t=="string"&&(t=k(t)),n)switch(Oe(t)){case 1:return e.push(t.tx),!0;case 0:return!1}let i=this.value.parse(t);return i||i===0?(Array.isArray(i)?e.push(...i):e.push(i),!0):!1}},on=class extends Nt{constructor(t){super(t);for(;t.ch!=")"&&!t.END;)t.next()}parseLVL1(t,e,n=!0){typeof t=="string"&&(t=k(t));let i=[];if(super.parseLVL1(t,i,n)){let r=t.copy();for(;r.ch!=")"&&!r.END;)r.next();return r.next(),e.push(i[0]+r.slice(t).trim()),t.sync(r),!0}return!1}},an=class extends Nt{parseLVL1(t,e,n){return typeof t=="string"&&(t=k(t)),t.tx==this.value?(t.next(),e.push(this.value),!0):!1}};var Hs={JUX:at,AND:sn,OR:Ae,ONE_OF:ke,LiteralTerm:Nt,ValueTerm:rn,SymbolTerm:an,FunctionTerm:on};function js(s){let t=s.IWS;s.IWS=!1;let e=s.pk,n="";for(;!e.END&&e.ty!=e.types.ws&&(e.ty&(k.types.id|k.types.num)||e.tx=="-"||e.tx=="_");)e.next();return n=e.slice(s).trim(),s.sync(),s.tl=0,s.IWS=t,n}function ln(s,t={is:!1},e=null,n=Hs){let i=e[s];return i?(typeof i=="string"&&(i=e[s]=mi(i,s,e,n)),i&&(i.name=s),i):(e.__virtual||(e.__virtual=Object.assign({},hi)),i=e.__virtual[s],i?(t.is=!0,typeof i=="string"&&(i=e.__virtual[s]=mi(i,"",e,n),i&&(i.name=s)),i):null)}function mi(s,t,e,n){let i=k(s);return i.USE_EXTENDED_ID=!0,i.tl=0,i.next(),Kt(i,e,n)}function Kt(s,t,e,n=!1,i=!1,r=!1,o=!1,l=null){let c,h,u,{JUX:m,AND:p,OR:_,ONE_OF:g,LiteralTerm:w,ValueTerm:S,SymbolTerm:E,FunctionTerm:v}=e;for(;!s.END;)switch(s.ch){case"]":return c;case"[":u=Kt(s.next(),t,e,!0),s.assert("]"),u=cn(s,u,e),c?(c instanceof m&&c.isRepeating()&&(c=bt(e,new m,c)),c=bt(e,c,u)):c=u;break;case"<":let I=js(s.next());u=new S(I,ln,t,e),s.next().assert(">"),u=cn(s,u,e),c?(c instanceof m&&(c=bt(e,new m,c)),c=bt(e,c,u)):c=u;break;case"&":if(s.pk.ch=="&"){if(o)return c;if(h=new p,!c)throw new Error("missing term!");for(h.terms.push(c),s.sync().next();!s.END&&(h.terms.push(Kt(s,t,e,n,i,r,!0,l)),!(s.ch!=="&"||s.pk.ch!=="&"));)s.a("&").a("&");return h}break;case"|":if(s.pk.ch=="|"){if(r||o)return c;for(h=new _,h.terms.push(c),s.sync().next();!s.END&&(h.terms.push(Kt(s,t,e,n,i,!0,o,l)),!(s.ch!=="|"||s.pk.ch!=="|"));)s.a("|").a("|");return h}else{if(i||r||o)return c;for(h=new g,h.terms.push(c),s.next();!s.END&&(h.terms.push(Kt(s,t,e,n,!0,r,o,l)),s.ch==="|");)s.a("|");return h}default:s.pk.ch=="("?u=new v(s,N=>Kt(N,t,e)):u=s.ty==s.types.symbol?new E(s):new w(s),s.next(),u=cn(s,u,e),c?(c instanceof m&&(c=bt(e,new m,c)),c=bt(e,c,u)):c=u}return c}function cn(s,t,e){t:for(;;){switch(s.ch){case"{":t=bt(e,t),t.r[0]=parseInt(s.next().tx),s.next().ch==","?(s.next(),s.pk.ch=="}"?(t.r[1]=parseInt(s.tx),s.next()):t.r[1]=1/0):t.r[1]=t.r[0],s.a("}");break;case"*":t=bt(e,t),t.r[0]=0,t.r[1]=1/0,s.next();break;case"+":t=bt(e,t),t.r[0]=1,t.r[1]=1/0,s.next();break;case"?":t=bt(e,t),t.r[0]=0,t.r[1]=1,s.next();break;case"#":let n=new e.JUX;n.terms.push(t),t=n,t.r[0]=1,t.r[1]=1/0,t.REQUIRE_COMMA=!0,s.next(),s.ch=="{"&&(t.r[0]=parseInt(s.next().tx),t.r[1]=parseInt(s.next().a(",").tx),s.next().a("}"));break}break}return t}function bt(s,t,e=null){if(t){if(!(t instanceof s.JUX)){let n=new s.JUX;n.terms.push(t),t=n}return e&&t.terms.push(e),t}return e}var Mt=class{constructor(t,e,n,i,r=new P(e)){this.val=n,this.name=t.replace(/\-/g,"_"),this.precedence=+!!i<<31,this.pos=r,this.VALID=!0}destroy(){this.name="",this.val=null,this.pos=null}toString(t=0){let e="    ".repeat(t);return this.VALID?`${e+this.name.replace(/\_/g,"-")}:${this.value_string}${this.IMPORTANT?" !important":""}`:`${e+this.name.replace(/\_/g,"-")}:unset`}setValue(...t){if(t[0]instanceof Mt)return this.setValue(...t[0].val);let e=0;for(let n of t){let i=this.val[e];i&&n instanceof i.constructor?this.val[e]=n:this.val[e]=n,e++}this.val.length=t.length}get IMPORTANT(){return!!(this.precedence&-2147483648)}copyVal(){return Array.isArray(this.val)?this.val.slice():this.val}copy(t=0){let e=new Mt(this.name,this.original_value,this.copyVal(),this.IMPORTANT,this.pos);return e.precedence|=t,e}set(t){t.name==this.name&&(this.val=t.val.slice())}get original_value(){return this.pos.slice()}get camelName(){return Mt.camelName(this.name)}get css_type(){return"styleprop"}get value(){return this.val.length>1?this.val:this.val[0]}get value_string(){return this.VALID?this.val.map(t=>t.toString()).join(" "):""}static camelName(t){return t.replace(/\-/g,"_").split("_").map((e,n)=>n>0?e[0].toUpperCase()+e.slice(1):e).join("")}};function fi(s,t,e){if(t.length==0)return null;let n=null,i=t[0],r=t[2].trim(),o=!!t[3],l={is:!1},c=ln(i.replace(/\-/g,"_"),l,ci);if(c&&!l.is){if(r=="unset"||r=="inherit"||r=="initial"||r=="revert")return new Mt(i,r,[new rt(r)],o,e);let h=k(r);return h.USE_EXTENDED_ID=!0,h.tl=0,h.next(),n=c.parse(h),new Mt(i,r,n,o,e)}else return console.warn(`Unable to get parser for CSS property ${i}`),new Mt(i,r,[new rt(r)],o,e)}function pi(s,t,e){return fi(void 0,[s,,t,e],void 0)}var le=class extends U.transform3D{constructor(t){super(t,1/0,1/0,1/0,1/0,1/0,1/0,1/0,1/0,1/0)}},hn=globalThis.HTMLElement??new Function;function De(s){return[le,U.transform2D,U.transform3D,U.color,U.cubic_bezier,Float32Array,Float64Array,Uint32Array,Uint16Array,Uint8Array,Int32Array,Int16Array,Int8Array].includes(s)}function _i(s){return!!(Array.isArray(s)||s instanceof Float32Array||s instanceof Float64Array||s instanceof Uint32Array||s instanceof Uint16Array||s instanceof Uint8Array||s instanceof Int32Array||s instanceof Int16Array||s instanceof Int8Array)}function Ht(s){return s instanceof hn?window.getComputedStyle(s):null}var Ws=typeof hn!="undefined"?hn:class{},Fs=typeof SVGElement!="undefined"?SVGElement:function(){},Te=U.length_,Le=U.percentage_,di=U.color,Vo=U.number_,qo=U.transform2D,Go=U.transform3D,Re=U.path,Pt=U.cubic_bezier,$o=U.string;function gi(s){return s instanceof Ws?0:s instanceof Fs?3:1}var Ei={lerp:(s,t,e=0)=>e+(s-e)*t,getYatX:s=>s,toString:()=>"linear"},jt=class extends Number{lerp(t,e){return Number(this)+(Number(t)-Number(this))*e}from(t){return new jt(t)}copy(){return new jt(this)}};function bi(s,t){if(s=="transform")return le;switch(typeof t){case"number":return jt;case"string":let e=pi(s,t,!1)?.val?.[0]?.constructor;if(e)return e;if(Te._verify_(t))return Te;if(Le._verify_(t))return Le;if(di._verify_(t))return di}return null}var wi=Math.pow,yi=Math.sqrt,Us=Math.acos,Bs=Math.cos,zs=Math.PI;function ce(s){return s<0?-wi(-s,1/3):wi(s,1/3)}function Vs(s,t,e){var n=1-s,i=n*n,r=s*s;return 3*i*s*t+r*3*n*e+r*s}function un(s,t,e,n,i){t=Math.max(0,Math.min(t,1)),n=Math.max(0,Math.min(n,1));var r=-s,o=t-s,l=n-s,c=1-s,h=o*3,u=r*3,m=l*3,p=-r+h-m+c,_=1/p,g=1/3,w=(u-6*o+m)*_,S=(-u+h)*_,E=r*_,v=(3*S-w*w)*g,I=v*g,N=(2*w*w*w-9*w*S+27*E)*(1/27),b=N*.5,F=b*b+I*I*I,B,_t,V;if(F<0){var q=-v/3,At=q*q*q,st=yi(At),K=-N/(2*st),kt=K<-1?-1:K>1?1:K,dt=Us(kt),ps=ce(st),_s=2*ps;V=_s*Bs((dt+4*zs)/3)-w/3}else if(F===0)B=b<0?ce(-b):-ce(b),V=-B-w*g;else{var Ln=yi(F);B=ce(Ln-b),_t=ce(Ln+b),V=B-_t-w*g}return Vs(V,e,i)}var Qt=class{constructor(t,e,n=-1,i=-1,r=-1,o=-1){this.val=e,this.t_off=t,this.p1_x=n,this.p1_y=i,this.p2_x=r,this.p2_y=o}get duration(){return this.t_off}get starting_tic(){return this.t_off}get ending_tic(){return this.starting_tic+this.t_off}isValidKey(t){return t>this.ending_tic?t-this.ending_tic:t<this.starting_tic?t-this.starting_tic:0}getValueAtTic(t,e,n,i){let r=this.t_off-e,o=t-e;if(o<r){let l=o/r,c=0;return this.p2_x<0?this.p1_x<0&&(c=l):c=un(l,this.p1_x,this.p1_y,this.p2_x,this.p2_y),n.lerp(this.val,c)}return this.val}},mn=class extends Qt{getValueAtTic(t,e,n,i){return i?this.val:n}},Yt=class extends Qt{getValueAtTic(t,e,n,i){let r=this.t_off-e,o=r==0?1:r,l=t-e;if(l<o){let c=l/o,h=0;return this.p2_x<0?this.p1_x<0&&(h=c):h=un(c,this.p1_x,this.p1_y,this.p2_x,this.p2_y),n+(this.val-n)*h}return this.val}};var Ie=class{constructor(t,e,n,i,r,o=Ht(t)){this.last_key=-1,this.type=r,this.duration=0,this.end=!1,this.keys=[],this.curr_key=0,this.time_cache=0,this.prop_name=e;let l=n[0],c=typeof l.val!="undefined"?l.val:0;this.starting_val=this.getValue(t,e,i,c,o);let h=this.starting_val;n.forEach(u=>h=this.addKey(u,h))}destroy(){this.keys.length=0,this.type=null}getValue(t,e,n,i,r){switch(n){case 3:if(t instanceof SVGPathElement&&e=="d")return this.type=Re,new this.type(i);break;case 0:let o=e.replace(/[A-Z]/g,c=>"-"+c.toLowerCase()),l=r?r.getPropertyValue(o):"";if(l||(l=t.style[e]),this.type==Le&&(l=parseFloat(l),t.parentElement)){let c=window.getComputedStyle(t.parentElement),h=parseFloat(c.getPropertyValue(o));l=l/h*100}return new this.type(l);default:return t[e]}return new this.type(0)}addKey(t,e){let n=t.val??0,i=t.eas,r=-1,o=-1,l=-1,c=-1;i&&(r=i[2],o=i[3],l=i[4],c=i[5]),this.duration=Math.max(this.duration,t.tic);let h=this.type==null?new mn(this.duration,n,0,0,0,0):this.type==jt?new Yt(this.duration,+n,r,o,l,c):new Qt(this.duration,e&&e.from?e.from(n):new this.type(n)??new Te(0,""),r,o,l,c);return this.keys.push(h),h.val}updateKeys(){this.keys.sort((t,e)=>t.t_off-e.t_off),this.duration=this.keys[this.keys.length-1].t_off}getValueAtTime(t=0){let e=Math.max(0,this.last_key),n=this.keys[e-1]||null,i=!1,r=this.keys[e],o=this.keys.length;for(let l=e+1;l<o&&(n=r,r=this.keys[l],!(t<r.t_off));l++)l==o-1&&(i=!0);return n?r.getValueAtTic(t,n.t_off,n.val,i):r.getValueAtTic(t,0,this.starting_val,i)}run(t,e,n,i){return this.setProp(t,e,this.getValueAtTime(n),i),n<this.duration}setProp(t,e,n,i){switch(i){case 0:t.style[e]=n.toString();break;case 3:t.setAttribute(e,n.toString());break;default:t[e]=n}}unsetProp(t,e){this.setProp(t,e,"",0)}toCSSString(t=0,e=""){let n=this.getValueAtTime(t);return`${e}:${n.toString()}`}reset(){this.last_key=-1}};var Ne=class{constructor(t,e,n,i,r,o=Ht(t)){if(this.duration=0,this.end=!1,this.curr_key=0,this.time_cache=0,this.prop_name=e,this.scalar_keys=[],this.type=r,!De(this.type))throw new Error("Expecting an array like object for type");let l=n[0],c=typeof l.val!="undefined"?l.val:0;this.starting_val=this.getValue(t,e,i,c,o),this.vector_length=this.starting_val.length;let h=this.starting_val instanceof le;for(let m=0;m<this.vector_length;m++)this.scalar_keys.push([]),this.starting_val[m]==1/0&&(h&&(m==2||m==3||m==8)?this.starting_val[m]=1:this.starting_val[m]=0);let u=this.starting_val;for(let m of n)u=this.addKey(m,u);this.updateKeys()}destroy(){this.scalar_keys.length=0,this.type=null}getValue(t,e,n,i,r){switch(n){case 3:if(t instanceof SVGPathElement&&e=="d")return this.type=Re,new this.type(i);break;case 0:let o=e.replace(/[A-Z]/g,c=>"-"+c.toLowerCase()),l=r?r.getPropertyValue(o):"";return l||(l=t.style[e]),new this.type(l);default:return new this.type(t[e])}return new this.type(0)}addKey(t,e){let n=t.val??0,i=t.eas,r=-1,o=-1,l=-1,c=-1;i&&(r=i[2],o=i[3],l=i[4],c=i[5]),this.duration=Math.max(this.duration,t.tic);let h=new this.type(t.val);if(!_i(h))throw new Error(`Invalid type ${h} submitted to VectorAnimProp`);if(h.length>this.vector_length)throw new Error(`Expected length ${this.vector_length} got length ${h.length}`);let u=0;for(let m of h){if(m<1/0){let p=new Yt(t.tic,m,r,o,l,c);this.scalar_keys[u].push(p)}u++}}updateKeys(t=-1){let e=0;if(t>=0&&this.scalar_keys[t]){let n=this.scalar_keys[t];n.length>0&&(n.sort((i,r)=>i.t_off-r.t_off),e=Math.max(n[n.length-1].t_off,e))}else for(let n of this.scalar_keys)n.length>0&&(n.sort((i,r)=>i.t_off-r.t_off),e=Math.max(n[n.length-1].t_off,e));this.duration=e}getValueAtTime(t=0){let e=this.starting_val.copy(),n=0;for(let i of this.scalar_keys){if(i.length==0)e[n]=this.starting_val[n];else{let r=0,o=null,l=i[r],c=i.length;for(let h=1;h<c&&(o=l,l=i[h],!(t<l.t_off));h++);o?e[n]=l.getValueAtTic(t,o.t_off,o.val):e[n]=l.getValueAtTic(t,0,this.starting_val[n])}n++}return e}run(t,e,n,i){return this.setProp(t,e,this.getValueAtTime(n),i),n<this.duration}setProp(t,e,n,i){switch(i){case 0:t.style[e]=n.toString();break;case 3:t.setAttribute(e,n.toString());break;default:t[e]=n}}unsetProp(t,e){this.setProp(t,e,"",0)}toCSSString(t=0,e=""){let n=this.getValueAtTime(t);return`${e}:${n.toString()}`}};var Wt=class{constructor(t,e){switch(this.constructCommon(),this.obj=null,this.type=gi(t),this.CSS_ANIMATING=!1,this.duration=0,this.props=new Map,this.FINISHED=!1,this.type){case 0:this.obj=t;break;case 3:case 1:this.obj=t;break}this.setProps(e,Ht(t))}destroy_props(){for(let[,t]of this.props)t.destroy();this.props.clear()}destroy(){this.destroy_props(),this.obj=null,this.destroyCommon()}removeProps(t){t instanceof Wt&&(t=t.props);for(let e in t)this.props.has(e)&&(this.props.get(e)?.destroy(),this.props.delete(e))}setProps(t,e=Ht(this.obj)){this.destroy_props();for(let n in t){let r=t[n][0],o=bi(n,r.val??0);if(this.props.has(n)){let l=this.props.get(n);this.duration=Math.max(l.duration,this.duration)}else if(De(o)){let l=new Ne(this.obj,n,t[n],this.type,o,e);this.props.set(n,l),this.duration=Math.max(l.duration,this.duration)}else{let l=new Ie(this.obj,n,t[n],this.type,o,e);this.props.set(n,l),this.duration=Math.max(l.duration,this.duration)}}}run(t){for(let[e,n]of this.props)n.run(this.obj,e,t,this.type);return t<=this.duration&&t>=0}toCSSString(t){let e="linear",n=[`.${t}{animation:${t} ${this.duration}ms ${tt.ease_out.toString()}}`,`@keyframes ${t}{`],i=2,r=i-1;for(let o=0;o<i;o++){n.push(`${Math.round(o/r*100)}%{`);for(let[l,c]of this.props)n.push(c.toCSSString(o/r*this.duration,l.replace(/([A-Z])/g,(h,u)=>"-"+h.toLowerCase()))+";");n.push("}")}return n.push("}"),n.join(`
`)}beginCSSAnimation(){if(!this.CSS_ANIMATING){let t="class"+(Math.random()*1e4|0);this.CSS_ANIMATING=!!t,this.obj.classList.add(t);let e=document.createElement("style");e.innerHTML=this.toCSSString(t),document.head.appendChild(e),this.style=e,setTimeout(this.endCSSAnimation.bind(this),this.duration)}}endCSSAnimation(){this.CSS_ANIMATING&&(this.obj.classList.remove(this.CSS_ANIMATING),this.CSS_ANIMATING=!1,this.style.parentElement.removeChild(this.style),this.style=null)}};var Pe=typeof window=="object"&&window?.requestAnimationFrame?window.requestAnimationFrame:s=>{setTimeout(()=>s(fn.now()),5)},fn=typeof performance=="undefined"?{now:()=>Date.now()}:performance,xi=class{constructor(){this.update_queue_a=[],this.update_queue_b=[],this.update_queue=this.update_queue_a,this.queue_switch=0,this.callback=this.update.bind(this),typeof window!="undefined"&&window.addEventListener?window.addEventListener("load",()=>{Pe(this.callback)}):(this.callback=this.update.bind(this),Pe(this.callback)),this.frame_time=fn.now(),this.SCHEDULE_PENDING=!1,this.ACTIVE_UPDATE=!1}queueUpdate(t,e=1,n=0,i=!1,r=!1){if(i&&this.ACTIVE_UPDATE){if(t._SCHD_==1)return;this.queue_switch==1?this.update_queue_a.push(t):this.update_queue_b.push(t)}else{if(typeof t._SCHD_=="number"&&t._SCHD_>0)return this.SCHEDULE_PENDING?void 0:(this.SCHEDULE_PENDING=!0,Pe(this.callback));t._SCHD_=(e&65535|n<<16)<<1,r?this.update_queue.unshift(t):this.update_queue.push(t),this.frame_time=fn.now()|0,this.SCHEDULE_PENDING||(this.SCHEDULE_PENDING=!0,Pe(this.callback))}}removeFromQueue(t){if(t._SCHD_){for(let e=0,n=this.update_queue.length;e<n;e++)if(this.update_queue[e]===t){this.update_queue.splice(e,1),t._SCHD_=0,n==1&&(this.SCHEDULE_PENDING=!1);return}}}update(t){this.SCHEDULE_PENDING=!1,this.ACTIVE_UPDATE=!0;let e=this.update_queue,n=t,i=Math.ceil(n-this.frame_time)|0,r=i*.06;this.frame_time=n,this.queue_switch==0?(this.update_queue=this.update_queue_b,this.queue_switch=1):(this.update_queue=this.update_queue_a,this.queue_switch=0);for(let o=0,l=e.length,c=e[0];o<e.length;c=e[++o]){let h=c._SCHD_>>1,u=(h&65535)-i,m=h>>16&65535;if(c._SCHD_=0,u>0){this.queueUpdate(c,u,m);continue}u=0,m>0&&this.queueUpdate(c,u,m-i);try{c.scheduledUpdate(r,t)}catch(p){p instanceof Error&&this.handleError(p)}}this.ACTIVE_UPDATE=!1,e.length=0}handleError(t){console.log("Spark: Error encountered"),console.error(t)}async sleep(t=1){return new Promise(e=>{this.queueUpdate({scheduledUpdate:()=>e(1)},t)})}},qs=new xi;var ft=qs;var Gs=0,he={duration:0,await:async function(){return this.observeStop()},shuttle(s=!0){return this.SHUTTLE=!!s,this},set(s){return s>=0?this.run(s*this.duration):this.run(this.duration-s*this.duration),this},step(s){return this.set(s)},play(s=1,t=0){return this.duration==0?(this.time=0,this.scheduledUpdate(0,1e7),this):(this.PLAY=!0,this.SCALE=s,this.time=t,this.start=performance.now(),ft.queueUpdate(this,1,0,!1,!0),this.issueEvent("started"),this)},asyncPlay(s,t){return this.play(s,t),this.observeStop()},stop(){return this.PLAY=!1,this},repeat(s=1){return this.REPEAT=Math.max(0,+s),this},addEventListener(s,t){typeof t=="function"&&(this.events[s]||(this.events[s]=[]),this.events[s].push(t))},removeEventListener(s,t){if(typeof t=="function"){let e=this.events[s];if(e){for(let n=0;n<e.length;n++)if(e[n]===t)return e.splice(n,1),!0}}return!1},issueStopped(){return this.issueEvent("stopped"),this},issueEvent(s){this.events[s]&&(this.events[s]=this.events[s].filter(t=>t(this)!==!1))},observeStop(){return new Promise(s=>{if(this.duration>0&&this.scheduledUpdate(0,0),this.duration<1)return s(this);this.addEventListener("stopped",()=>(s(this),!1))})},scheduledUpdate(s,t){if(!this.PLAY)return;let e=t-this.start;if(this.time+=e*this.SCALE,this.start=t,this.run(this.time))Gs++>1e4&&this.issueStopped(),ft.queueUpdate(this,1,0,!1,!0);else if(this.REPEAT){let n=this.SCALE;this.REPEAT--,this.SHUTTLE&&(n=-n);let i=n>0?0:this.duration;this.play(n,i)}else this.issueStopped()},constructCommon(){this.time=0,this.duration=0,this.REPEAT=0,this.PLAY=!0,this.DESTROYED=!1,this.FINISHED=!1,this.SHUTTLE=!1,this.SCALE=1,this.events={}},destroyCommon(){this.DESTROYED=!0,this.events=null}};var tt=function(){var t=!1;Object.assign(Gt.prototype,he),Object.assign(Wt.prototype,he);let e=function(...n){let i=[];for(let r=0;r<n.length;r++){let o=n[r],l=o.obj;if(l){let c={};for(let[h,u]of Object.entries(o)){if(new Set(["obj","match","delay"]).has(h))continue;if(!Array.isArray(u))throw new Error(`Expected the type of attribute ${h} to be an Array.`);let m=0;for(let p=0;p<u.length;p++){let _=u[p],g,w,S=_;if(Array.isArray(_)){w=_[0],g=_[1];let E=_[2];u[p]={tic:w,val:g,eas:E}}else if(typeof S=="object")g=_.val,w=_.tic;else throw new Error(`Expected object or array type for key ${h}[${m}]`);if(w===void 0||isNaN(w)||typeof w!="number")throw new Error(`
                                Key ${h}[${m}] does not have correct value for "tic" attribute. 
                                Expected a number type but got instead ${isNaN(_.tic??0)?"NaN":typeof _.tic}.`);if(g===void 0)throw new Error(`
                                    Key ${h}[${m}] does not have a valid "val" attribute. `)}c[h]=u}i.push(new Wt(l,c))}else console.error("Glow animation was passed an undefined object.")}return n.length>1?new Gt(i):i[0]};return Object.assign(e,{createSequence:e,createGroup:(...n)=>new Gt(n),set USE_TRANSFORM(n){t=!!n},get USE_TRANSFORM(){return t},linear:Ei,easing:{ease:new Pt(.25,.1,.25,1),ease_in:new Pt(.7,.05,1,1),ease_out:new Pt(.1,0,.2,.95),ease_in_out:new Pt(.42,0,.58,1),overshoot:new Pt(5,5,.2,.8),anticipate:new Pt(.5,-.1,.5,.8)},custom:(n,i,r,o)=>new Pt(n,i,r,o)}),e}();var ba=U.transform2D;function vi(s,t,e,n,i){let r=window.getComputedStyle(s,null),o=s.getBoundingClientRect(),l=i.getBoundingClientRect(),c=r.getPropertyValue("width"),h=r.getPropertyValue("height"),u=parseFloat(r.getPropertyValue("margin-left")),m=r.getPropertyValue("background-color"),p=r.getPropertyValue("color"),_=r.getPropertyValue("position");{let g=t.props.left,w=0,S=0,E=0;if(E=g.keys[0].val-o.left,_=="relative"){let b=parseFloat(r.getPropertyValue("left"))||0;w=E+b,S=b}else w=s.offsetLeft+E,S=s.offsetLeft;g.keys[0].val=new g.type(w,"px"),g.keys[1].val=new g.type(S,"px"),g.keys[1].dur=e,g.keys[1].len=e,g.keys[1].ease=n,g.duration=e;let v=t.props.top,I=0,N=0;if(E=v.keys[0].val-o.top,_=="relative"){let b=parseFloat(r.getPropertyValue("top"))||0;I=E+b,N=b}else I=s.offsetTop+E,N=s.offsetTop;v.keys[0].val=new v.type(I,"px"),v.keys[1].val=new v.type(N,"px"),v.keys[1].dur=e,v.keys[1].len=e,v.keys[1].ease=n,v.duration=e,t.props.width.keys[0].val=new t.props.width.type(c),t.props.width.keys[0].dur=e,t.props.width.keys[0].len=e,t.props.width.keys[0].ease=n,t.props.width.duration=e,t.props.height.keys[0].val=new t.props.height.type(h),t.props.height.keys[0].dur=e,t.props.height.keys[0].len=e,t.props.height.keys[0].ease=n,t.props.height.duration=e}s.style.transformOrigin="top left",t.props.backgroundColor.keys[0].val=new t.props.backgroundColor.type(m),t.props.backgroundColor.keys[0].dur=e,t.props.backgroundColor.keys[0].len=e,t.props.backgroundColor.keys[0].ease=n,t.props.backgroundColor.duration=e,t.props.color.keys[0].val=new t.props.color.type(p),t.props.color.keys[0].dur=e,t.props.color.keys[0].len=e,t.props.color.keys[0].ease=n,t.props.color.duration=e,t.obj=s,t.addEventListener("stopped",()=>{t.unsetProps()})}function He(s,t,e=500,n=tt.linear,i=!1){let r=s.getBoundingClientRect(),o=window.getComputedStyle(s,null),l=parseFloat(o.getPropertyValue("margin")),c=tt.createSequence({obj:s,width:{value:"0px"},height:{value:"0px"},backgroundColor:{value:"rgb(1,1,1)"},color:{value:"rgb(1,1,1)"},left:[{value:r.left+"px"},{value:"0px"}],top:[{value:r.top+"px"},{value:"0px"}]});return t?(vi(t,e,n,s),c.duration=e,c):(u=>(m,p=500,_=tt.linear,g=!1)=>(vi(m,u,p,_,s),u.duration=p,u))(c)}var ue=new WeakMap;function Mi(s){ue.has(s.obj)||ue.set(s.obj,new Map);let t=ue.get(s.obj);if(t)for(let[e]of s.props)t.has(e)==!0&&t.get(e)?.props.delete(e),t.set(e,s)}function Si(s){if(!ue.has(s.obj))return;let t=ue.get(s.obj);if(t)for(let[e]of s.props)t.get(e)==s&&t.delete(e)}function $s(...s){let t=null,e=s.length,n=0;typeof s[e-1]=="number"&&(n=+s[e-1],e--);for(let i=0;i<e;i++){let r=s[i];if(typeof r=="object"){if(r.match&&this.TT[r.match]){let o=r.duration,l=r.easing;t=this.TT[r.match](r.obj,o,l)}else t=tt(r);t&&(this.in_seq.push(t),this.in_duration=Math.max(this.in_duration,t.duration),this.OVERRIDE&&Mi(t))}}return this.in_duration=Math.max(this.in_duration,n),this.in}function Js(...s){let t=s.length,e=0;typeof s[t-1]=="number"&&(typeof s[t-2]=="number"?(e=s[t-1],t-=2):(e=s[t-1],t--));for(let n=0;n<t;n++){let i=s[n];if(typeof i=="object")if(i.match)this.TT[i.match]=He(i.obj);else{let r=tt(i);r&&(this.out_seq.push(r),this.out_duration=Math.max(this.out_duration,r.duration),this.OVERRIDE&&Mi(r)),this.in_delay=Math.max(this.in_delay,+e)}}}var pn=class{constructor(t=!0){this.constructCommon(),this.in_duration=0,this.out_duration=0,this.in_delay=0,this.in_seq=[],this.out_seq=[],this.INITIALIZED=!1,this.TT={},this.out=Js.bind(this),this.out.addEventListener=this.addEventListener.bind(this),this.out.removeEventListener=this.removeEventListener.bind(this),this.out.easing=tt.easing,this.in=$s.bind(this),this.in.addEventListener=this.addEventListener.bind(this),this.in.removeEventListener=this.removeEventListener.bind(this),this.in.easing=tt.easing,Object.defineProperty(this.out,"out_duration",{get:()=>this.out_duration}),this.OVERRIDE=t}constructCommon(){}destroyCommon(){}addEventListener(){}removeEventListener(){}destroy(){this.in_seq.forEach(Si),this.out_seq.forEach(Si),this.in_seq.length=0,this.out_seq.length=0,this.out=null,this.in=null,this.destroyCommon()}get duration(){return Math.max(this.in_duration+this.in_delay,this.out_duration)}set duration(t){}run(t){for(let n=0;n<this.out_seq.length;n++){let i=this.out_seq[n];!i.run(t)&&!i.FINISHED&&(i.issueEvent("stopped"),i.FINISHED=!0)}let e=t-this.in_delay;if(e>=0){this.INITIALIZED=!1;for(let n=0;n<this.in_seq.length;n++){let i=this.in_seq[n];!i.run(e)&&!i.FINISHED&&(i.issueEvent("stopped"),i.FINISHED=!0)}}else if(!this.INITIALIZED){for(let n=0;n<this.in_seq.length;n++)this.in_seq[n].run(0);this.INITIALIZED=!0}return t<=this.duration&&t>=0}};Object.assign(pn.prototype,he);var Ci={createTransition:(s=!1)=>new pn(s)};var Oi=Object.assign(tt,{createTransition:Ci.createTransition,transformTo:He});globalThis.glow=Oi;var Ai=Oi;me();Ft();gn();var Ni;(function(e){e[e.FAILED_TO_FETCH_RESOURCE=0]="FAILED_TO_FETCH_RESOURCE",e[e.SYNTAX_ERROR_DURING_PARSE=1]="SYNTAX_ERROR_DURING_PARSE"})(Ni||(Ni={}));var Pi;(function(r){r[r.READ=1]="READ",r[r.WRITE=2]="WRITE",r[r.READONLY=1]="READONLY",r[r.WRITE_ONLY=2]="WRITE_ONLY",r[r.READ_WRITE=3]="READ_WRITE"})(Pi||(Pi={}));var Hi;(function(m){m.ELEMENT_SELECTOR_STRING="esl",m.WATCHED_FRAME_METHOD_CALL="wfm",m.METHOD_CALL="mc",m.IMPORT_FROM_CHILD="ifc",m.EXPORT_TO_CHILD="etc",m.IMPORT_FROM_PARENT="ifp",m.EXPORT_TO_PARENT="etp",m.INPUT_VALUE="imp",m.CHECKED_VALUE="chk",m.CONTAINER_USE_IF="cui",m.CONTAINER_USE_EMPTY="cue"})(Hi||(Hi={}));var ji;(function(i){i[i.INITIALIZE=0]="INITIALIZE",i[i.ASYNC_INITIALIZE=1]="ASYNC_INITIALIZE",i[i.VAR_UPDATE=2]="VAR_UPDATE",i[i.DESTROY=4]="DESTROY"})(ji||(ji={}));var Wi;(function(r){r[r.IS_ROOT=1]="IS_ROOT",r[r.EXTERNAL_COMPONENT=2]="EXTERNAL_COMPONENT",r[r.IS_COMPONENT=4]="IS_COMPONENT",r[r.IS_SLOT_REPLACEMENT=8]="IS_SLOT_REPLACEMENT",r[r.IS_INTERLEAVED=16]="IS_INTERLEAVED"})(Wi||(Wi={}));var Fi;(function(i){i.ELEMENT_RENDER="element-render-hook",i.STATIC_DATA_FETCH="static-data-fetch",i.TAG_PARSE="element-render-hook",i.TEST_HOOK="test-hook"})(Fi||(Fi={}));var f;(function(e){e[e.HTML_NODE=1048576]="HTML_NODE",e[e.HTML_ELEMENT=2097152]="HTML_ELEMENT"})(f||(f={}));var d;(function(a){a[a.WickBinding=1233125376]="WickBinding",a[a.HTML_IMPORT=1244659712]="HTML_IMPORT",a[a.HTMLAttribute=1250951168]="HTMLAttribute",a[a.HTMLText=1259339776]="HTMLText",a[a.ERROR=1266679808]="ERROR",a[a.HTML_Element=1278214144]="HTML_Element",a[a.HTML_TEXT=1286602752]="HTML_TEXT",a[a.HTML_TT=1294991360]="HTML_TT",a[a.HTML_I=1303379968]="HTML_I",a[a.HTML_B=1311768576]="HTML_B",a[a.HTML_BIG=1320157184]="HTML_BIG",a[a.HTML_SMALL=1328545792]="HTML_SMALL",a[a.HTML_EM=1336934400]="HTML_EM",a[a.HTML_STRONG=1345323008]="HTML_STRONG",a[a.HTML_DFN=1353711616]="HTML_DFN",a[a.HTML_CODE=1362100224]="HTML_CODE",a[a.HTML_SAMP=1370488832]="HTML_SAMP",a[a.HTML_KBD=1378877440]="HTML_KBD",a[a.HTML_VAR=1387266048]="HTML_VAR",a[a.HTML_CITE=1395654656]="HTML_CITE",a[a.HTML_ABBR=1404043264]="HTML_ABBR",a[a.HTML_ACRONYM=1412431872]="HTML_ACRONYM",a[a.HTML_SUP=1420820480]="HTML_SUP",a[a.HTML_SPAN=1429209088]="HTML_SPAN",a[a.HTML_BDO=1437597696]="HTML_BDO",a[a.HTML_BR=1445986304]="HTML_BR",a[a.HTML_BODY=1454374912]="HTML_BODY",a[a.HTML_ADDRESS=1462763520]="HTML_ADDRESS",a[a.HTML_DIV=1471152128]="HTML_DIV",a[a.HTML_A=1479540736]="HTML_A",a[a.HTML_MAP=1487929344]="HTML_MAP",a[a.HTML_AREA=1496317952]="HTML_AREA",a[a.HTML_LINK=1504706560]="HTML_LINK",a[a.HTML_IMG=1513095168]="HTML_IMG",a[a.HTML_OBJECT=1521483776]="HTML_OBJECT",a[a.HTML_PARAM=1529872384]="HTML_PARAM",a[a.HTML_HR=1538260992]="HTML_HR",a[a.HTML_P=1546649600]="HTML_P",a[a.HTML_H1=1555038208]="HTML_H1",a[a.HTML_H2=1563426816]="HTML_H2",a[a.HTML_H3=1571815424]="HTML_H3",a[a.HTML_H4=1580204032]="HTML_H4",a[a.HTML_H5=1588592640]="HTML_H5",a[a.HTML_H6=1596981248]="HTML_H6",a[a.HTML_PRE=1605369856]="HTML_PRE",a[a.HTML_Q=1613758464]="HTML_Q",a[a.HTML_BLOCKQUOTE=1622147072]="HTML_BLOCKQUOTE",a[a.HTML_INS=1630535680]="HTML_INS",a[a.HTML_DEL=1638924288]="HTML_DEL",a[a.HTML_DL=1647312896]="HTML_DL",a[a.HTML_DT=1655701504]="HTML_DT",a[a.HTML_DD=1664090112]="HTML_DD",a[a.HTML_OL=1672478720]="HTML_OL",a[a.HTML_UL=1680867328]="HTML_UL",a[a.HTML_LI=1689255936]="HTML_LI",a[a.HTML_FORM=1697644544]="HTML_FORM",a[a.HTML_LABEL=1706033152]="HTML_LABEL",a[a.HTML_INPUT=1714421760]="HTML_INPUT",a[a.HTML_SELECT=1722810368]="HTML_SELECT",a[a.HTML_OPTGROUP=1731198976]="HTML_OPTGROUP",a[a.HTML_OPTION=1739587584]="HTML_OPTION",a[a.HTML_TEXTAREA=1747976192]="HTML_TEXTAREA",a[a.HTML_FIELDSET=1756364800]="HTML_FIELDSET",a[a.HTML_LEGEND=1764753408]="HTML_LEGEND",a[a.HTML_BUTTON=1773142016]="HTML_BUTTON",a[a.HTML_TABLE=1781530624]="HTML_TABLE",a[a.HTML_CAPTION=1789919232]="HTML_CAPTION",a[a.HTML_THEAD=1798307840]="HTML_THEAD",a[a.HTML_TFOOT=1806696448]="HTML_TFOOT",a[a.HTML_TBODY=1815085056]="HTML_TBODY",a[a.HTML_COLGROUP=1823473664]="HTML_COLGROUP",a[a.HTML_COL=1831862272]="HTML_COL",a[a.HTML_TR=1840250880]="HTML_TR",a[a.HTML_TH=1848639488]="HTML_TH",a[a.HTML_TD=1857028096]="HTML_TD",a[a.HTML_HEAD=1865416704]="HTML_HEAD",a[a.HTML_TITLE=1873805312]="HTML_TITLE",a[a.HTML_BASE=1882193920]="HTML_BASE",a[a.HTML_META=1890582528]="HTML_META",a[a.HTML_STYLE=1898971136]="HTML_STYLE",a[a.HTML_SCRIPT=1907359744]="HTML_SCRIPT",a[a.HTML_NOSCRIPT=1915748352]="HTML_NOSCRIPT",a[a.HTML_HTML=1924136960]="HTML_HTML",a[a.HTML_SVG=1932525568]="HTML_SVG",a[a.HTML_BINDING_ELEMENT=1932525568]="HTML_BINDING_ELEMENT",a[a.CompiledBinding=1937768448]="CompiledBinding",a[a.ComponentVariableDeclaration=1946157056]="ComponentVariableDeclaration",a[a.MARKDOWN=1957691392]="MARKDOWN"})(d||(d={}));var Ui;(function(a){a[a.WickBinding=1233125376]="WickBinding",a[a.HTML_IMPORT=1244659712]="HTML_IMPORT",a[a.HTMLAttribute=1250951168]="HTMLAttribute",a[a.HTMLText=1259339776]="HTMLText",a[a.ERROR=1266679808]="ERROR",a[a.HTML_Element=1278214144]="HTML_Element",a[a.HTML_TEXT=1286602752]="HTML_TEXT",a[a.HTML_TT=1294991360]="HTML_TT",a[a.HTML_I=1303379968]="HTML_I",a[a.HTML_B=1311768576]="HTML_B",a[a.HTML_BIG=1320157184]="HTML_BIG",a[a.HTML_SMALL=1328545792]="HTML_SMALL",a[a.HTML_EM=1336934400]="HTML_EM",a[a.HTML_STRONG=1345323008]="HTML_STRONG",a[a.HTML_DFN=1353711616]="HTML_DFN",a[a.HTML_CODE=1362100224]="HTML_CODE",a[a.HTML_SAMP=1370488832]="HTML_SAMP",a[a.HTML_KBD=1378877440]="HTML_KBD",a[a.HTML_VAR=1387266048]="HTML_VAR",a[a.HTML_CITE=1395654656]="HTML_CITE",a[a.HTML_ABBR=1404043264]="HTML_ABBR",a[a.HTML_ACRONYM=1412431872]="HTML_ACRONYM",a[a.HTML_SUP=1420820480]="HTML_SUP",a[a.HTML_SPAN=1429209088]="HTML_SPAN",a[a.HTML_BDO=1437597696]="HTML_BDO",a[a.HTML_BR=1445986304]="HTML_BR",a[a.HTML_BODY=1454374912]="HTML_BODY",a[a.HTML_ADDRESS=1462763520]="HTML_ADDRESS",a[a.HTML_DIV=1471152128]="HTML_DIV",a[a.HTML_A=1479540736]="HTML_A",a[a.HTML_MAP=1487929344]="HTML_MAP",a[a.HTML_AREA=1496317952]="HTML_AREA",a[a.HTML_LINK=1504706560]="HTML_LINK",a[a.HTML_IMG=1513095168]="HTML_IMG",a[a.HTML_OBJECT=1521483776]="HTML_OBJECT",a[a.HTML_PARAM=1529872384]="HTML_PARAM",a[a.HTML_HR=1538260992]="HTML_HR",a[a.HTML_P=1546649600]="HTML_P",a[a.HTML_H1=1555038208]="HTML_H1",a[a.HTML_H2=1563426816]="HTML_H2",a[a.HTML_H3=1571815424]="HTML_H3",a[a.HTML_H4=1580204032]="HTML_H4",a[a.HTML_H5=1588592640]="HTML_H5",a[a.HTML_H6=1596981248]="HTML_H6",a[a.HTML_PRE=1605369856]="HTML_PRE",a[a.HTML_Q=1613758464]="HTML_Q",a[a.HTML_BLOCKQUOTE=1622147072]="HTML_BLOCKQUOTE",a[a.HTML_INS=1630535680]="HTML_INS",a[a.HTML_DEL=1638924288]="HTML_DEL",a[a.HTML_DL=1647312896]="HTML_DL",a[a.HTML_DT=1655701504]="HTML_DT",a[a.HTML_DD=1664090112]="HTML_DD",a[a.HTML_OL=1672478720]="HTML_OL",a[a.HTML_UL=1680867328]="HTML_UL",a[a.HTML_LI=1689255936]="HTML_LI",a[a.HTML_FORM=1697644544]="HTML_FORM",a[a.HTML_LABEL=1706033152]="HTML_LABEL",a[a.HTML_INPUT=1714421760]="HTML_INPUT",a[a.HTML_SELECT=1722810368]="HTML_SELECT",a[a.HTML_OPTGROUP=1731198976]="HTML_OPTGROUP",a[a.HTML_OPTION=1739587584]="HTML_OPTION",a[a.HTML_TEXTAREA=1747976192]="HTML_TEXTAREA",a[a.HTML_FIELDSET=1756364800]="HTML_FIELDSET",a[a.HTML_LEGEND=1764753408]="HTML_LEGEND",a[a.HTML_BUTTON=1773142016]="HTML_BUTTON",a[a.HTML_TABLE=1781530624]="HTML_TABLE",a[a.HTML_CAPTION=1789919232]="HTML_CAPTION",a[a.HTML_THEAD=1798307840]="HTML_THEAD",a[a.HTML_TFOOT=1806696448]="HTML_TFOOT",a[a.HTML_TBODY=1815085056]="HTML_TBODY",a[a.HTML_COLGROUP=1823473664]="HTML_COLGROUP",a[a.HTML_COL=1831862272]="HTML_COL",a[a.HTML_TR=1840250880]="HTML_TR",a[a.HTML_TH=1848639488]="HTML_TH",a[a.HTML_TD=1857028096]="HTML_TD",a[a.HTML_HEAD=1865416704]="HTML_HEAD",a[a.HTML_TITLE=1873805312]="HTML_TITLE",a[a.HTML_BASE=1882193920]="HTML_BASE",a[a.HTML_META=1890582528]="HTML_META",a[a.HTML_STYLE=1898971136]="HTML_STYLE",a[a.HTML_SCRIPT=1907359744]="HTML_SCRIPT",a[a.HTML_NOSCRIPT=1915748352]="HTML_NOSCRIPT",a[a.HTML_HTML=1924136960]="HTML_HTML",a[a.HTML_SVG=1932525568]="HTML_SVG",a[a.HTML_BINDING_ELEMENT=1932525568]="HTML_BINDING_ELEMENT",a[a.CompiledBinding=1937768448]="CompiledBinding",a[a.ComponentVariableDeclaration=1946157056]="ComponentVariableDeclaration",a[a.MARKDOWN=1957691392]="MARKDOWN"})(Ui||(Ui={}));Ft();En();var te;(function(t){t[t.WINDOW_RESIZE=0]="WINDOW_RESIZE"})(te||(te={}));var Bt={[0]:null},We=null;function Zs(s,t){let e=Bt[s];if(e)for(let n of e)n.update(t,T.FROM_STORE)}var Bi={width:0,height:0};function Fe(s,t){We||(We=[{obj:window,event:"resize",func:e=>{Zs(0,{width:window.innerWidth,height:window.innerHeight})},init_data:e=>({width:window.innerWidth,height:window.innerHeight})}]);for(let e of[Bi[t]])if(e!==void 0){let n=We[e];Bt[e]||(Bt[e]=new Set,n&&n.obj.addEventListener(n.event,n.func));let i=Bt[e];i&&i.add(s),n&&n.init_data&&s.update(n.init_data(),T.FROM_STORE)}}function zi(s,t){for(let e of[Bi[t]]){if(!Bt[e])continue;let n=Bt[e];if(n&&(n.delete(s),n.size==0)){Bt[e]=null;let i=We[e];i&&i.obj.removeEventListener(i.event,i.func)}}}var Vi=null,Ue={options:{USE_SHADOW:!1,USE_SHADOWED_STYLE:!1,CACHE_URL:!1,GENERATE_SOURCE_MAPS:!1,REMOVE_DEBUGGER_STATEMENTS:!0,THROW_ON_ERRORS:!0,INCLUDE_SOURCE_URI:!1,url:{glow:"@candlelib/glow",wick:"@candlelib/wick",wickrt:"@candlelib/wick"}}},bn=class{constructor(t={}){t=Object.assign({},Ue,t),t.options=Object.assign({},Ue.options,t.options),t.options.url=Object.assign({},Ue.options.url,(t.options||{}).url||{}),this.url=new W,this.document=typeof document!="undefined"?document:{},this.window=typeof window!="undefined"?window:{},this.wrapper=null,this.options=t.options,this.api={store:new Proxy(new Map,{get(e,n,i){return e.get(n)},set(e,n,i,r){return e.set(n,i),!0}})},this.models={},this.globals={},this.test_rig_sources=new Map,this.component_class=new Map,this.component_class_string=new Map,this.components=new Map,this.named_components=new Map,this.repo=new Map,this.styles=new Map,this.integrate_new_options(t),this.template_data=new WeakMap,this.active_template_data=null,this.errors=new Map,this.warnings=new Map,this.processLink=e=>e,Vi=this}integrate_new_options(t){this.verifyOptions(t),this.addRepoData(t),this.loadModelData(t),this.loadSchemeData(t),this.loadAPIObjects(t)}hasErrors(){return this.errors.size>0}addError(t,e){this.errors.has(t.name)||this.errors.set(t.name,[]),this.errors.get(t.name).push(e)}getErrors(t){return this.errors.get(t.name)??[]}clearErrors(t){this.errors.has(t.name)&&this.errors.delete(t.name)}addWarning(t,e){this.warnings.has(t.name)||this.warnings.set(t.name,[]),this.warnings.get(t.name).push(e)}getWarnings(t){return this.warnings.get(t.name)??[]}clearWarnings(t){this.warnings.has(t.name)&&this.warnings.delete(t.name)}loadAPIObjects(t){if(t.api)for(let e in t.api)this.addAPIObject(e,t.api[e])}verifyOptions(t){let e=t.options;for(let n in e)if(typeof e[n]!=typeof Ue.options[n])throw new ReferenceError(`Unrecognized preset ${n}`)}loadSchemeData(t){let e=t.schemes}loadModelData(t){let e=t.models;if(e)for(let n in e)this.models[n]=e[n]}addRepoData(t){for(let[e,n]of t.repo||[])this.repo.set(n,{hash:e,url:n,module:null,flag:0})}async getDataSource(t){let e=t+"";if(this.api){if(e in this.api)return this.api[e].default;let n;if(await t.DOES_THIS_EXIST())switch(t.ext){case"json":n=t.fetchJSON();break}this.api[e]={hash:e,default:n}}return this.getDataSource(t)}addAPIObject(t,e){if(this.api){if(t=="store"||t=="router")return;this.api[t]=Object.assign({hash:t},e)}}copy(){let t={};for(let n in this)n=="components"?t.components=this.components:typeof this[n]=="object"?t[n]=Object.assign({},this[n]):Array.is(this[n])?t[n]=this[n].slice():t[n]=this[n];let e=new bn(t);return e.processLink=this.processLink.bind(this),e}assignGlobals(t){typeof t=="object"&&(this.globals=Object.assign({},t))}},ee=bn;ee.global={get v(){return Vi},set v(t){}};var qi;(function(t){t[t.local=0]="local"})(qi||(qi={}));var Be;(function(t){t[t.IS_STORE=1]="IS_STORE"})(Be||(Be={}));yn();var Qs=!1,Zi=null,Ki=null;Ut.activate();var Qi=class{constructor(){this.registerSession=Fe,this.unregisterSession=zi,this.root_components=[],this.workspace_init_promise=null,this.templates=new Map,this.css_cache=new Map,this.stores=new Map,this.init=null,this.router=null,this.context=null,this.root_components=[],this.db=new wn,this.init_module_promise=null,lt(z.APP)&&Promise.resolve().then(()=>(Xi(),Ji)).then(t=>t.init(this))}setDatabaseData(t,e,n=Z.Indexed){n==Z.Indexed&&this.db.put(t,e)}async getDatabaseData(t,e=Z.Indexed){if(e==Z.Indexed)return this.db.get(t)}get C(){return zt}async loadGlow(t="@candlelib/glow"){return Ki=(await import(t)).default,Ki}get glow(){return Qs||(Zi=globalThis.glow),Zi}async get_store(t,e,...n){if(this.stores.has(t)){let i=this.stores.get(t);if(i)return await i.get(e,...n)}}async set_store(t,e,n,i){if(!t||t=="persist"||t=="persist-init"){if((!et.has(e)||t=="persist-init")&&(this.register_store(t,e,i),t=="persist"||t=="persist-init")){let o=await this.getDatabaseData(e,Z.Indexed);o!==void 0?n=o:t=="persist-init"&&this.setDatabaseData(e,n,Z.Indexed)}let r=et.get(e);if(r){r.val=n,t=="persist"&&this.setDatabaseData(e,n,Z.Indexed);let o={[e]:r.val};for(let l of r.comps)l.update(o,T.FROM_STORE)}}else if(t=="scope"){let r={[e]:n};if(i.par){i.par.update(r,T.FROM_STORE);for(let o of i.par.ch)o.update(r,T.FROM_STORE)}for(let o of i.ch)o.update(r,T.FROM_STORE);i.update(r,T.FROM_STORE)}else if(t=="up"){let r={[e]:n},o=i.par;for(;o;)o.update(r,T.FROM_STORE),o=o.par}else if(this.stores.has(t)){let r=this.stores.get(t);if(r){let o=await r.set(e,n),l={[e]:o};for(let c of r.key_map.get(e)??[])c.update(l,T.FROM_STORE)}}return n}register_store(t,e,n){if(!t||t=="persist"){et.has(e)||et.set(e,{val:void 0,comps:new Set});let i=et.get(e);i&&(i.comps.add(n),i.val!==void 0&&n.update({[e]:i.val}))}else if(t=="session")Fe(n,e);else if(this.stores.has(t)){let i=this.stores.get(t);i&&(i.key_map.has(e)||i.key_map.set(e,new Set),i.key_map.get(e)?.add(n),new Promise(async()=>{n.update({[e]:await i.get(e)},T.FROM_STORE)}))}}unregister_store(t,e,n,i){if(!t||t=="persist"){if(!et.has(e))return;let r=et.get(e);r&&(r.comps.delete(i),r.comps.size==0&&et.delete(e))}else if(t=="session")Fe(i,e);else if(this.stores.has(t)){let r=this.stores.get(t);if(r){if(!r.key_map.has(e))return;let o=r.key_map.get(e);o&&(o.delete(i),o.size==0&&r.key_map.delete(e))}}}get p(){return this.context}rC(t){return this.context.component_class.set(t.name,t),t}gC(t){return this.context.component_class.get(t)}OVERRIDABLE_onComponentCreate(t){}OVERRIDABLE_onComponentMetaChange(){}addRootComp(t){this.root_components.push(t)}setPresets(t){if(this.context)t&&this.context.integrate_new_options(t);else{let e=new ee(t);this.context=e}return this.context}addAPI(t){if(this.context.api)for(let e in t)this.context.api[e]={default:t[e]}}setCSS(t){let e=t.getCSS();if(e&&this.css_cache){if(this.css_cache.has(t.name))this.css_cache.has(t.name)&&this.css_cache.get(t.name).count++;else if(window){let{document:n}=window,i=n.createElement("style");i.innerHTML=e,n.head.appendChild(i),this.css_cache.set(t.name,{css_ele:i,count:1})}}}purgeCSS(t){if(lt(z.WORKSPACE)){let e=this.css_cache.get(t);e&&(e.count=0,this.removeCSS(t))}}removeCSS(t){let e=this.css_cache.get(t);e&&e.css_ele.parentElement&&(e.count--,e.count<=0&&(e.css_ele.parentElement.removeChild(e.css_ele),this.css_cache.delete(t)))}appendPresets(t){return this.setPresets(t),this.init_module_promise=this.loadModules(t,this.context)}async loadModules(t,e){for(let[n,i,r]of t?.repo??[])if(e.api&&!e.api[n])try{let o=W.resolveRelative(i),l=await import(o+"");if(o.file=="pack.js"?e.api[n]={default:l[n]?.default,module:l[n]}:e.api[n]={default:l.default??null,module:l},r&Be.IS_STORE){let c=l.get,h=l.set;if(!c)throw new Error("Unable to register store: `get` method not defined.");if(!h)throw new Error("Unable to register store: `set` method not defined.");this.stores.set(n,{get:c,set:h,key_map:new Map})}}catch(o){console.warn(new Error(`Could not load module ${i}`)),console.error(o)}}},j=new Qi;var O;(function(h){h[h.CONNECTED=1]="CONNECTED",h[h.TRANSITIONED_IN=2]="TRANSITIONED_IN",h[h.DESTROY_AFTER_TRANSITION=4]="DESTROY_AFTER_TRANSITION",h[h.CONTAINER_COMPONENT=8]="CONTAINER_COMPONENT",h[h.INITIALIZED=16]="INITIALIZED",h[h.ALLOW_UPDATE=32]="ALLOW_UPDATE",h[h.TRANSITIONED_OUT=64]="TRANSITIONED_OUT",h[h.FOREIGN_HOST=128]="FOREIGN_HOST",h[h.DIRTY=256]="DIRTY"})(O||(O={}));function pt(s,t,e){let n=s-t*e,i=Math.floor(n/e),r=s%e;return{row:i,col:r}}function fe(s){if(globalThis.glow)return globalThis.glow.createTransition(s);{let t={add:()=>null,addEventListener:(e,n)=>n()};return{in:t,out:t,play:()=>null,addEventListener:(e,n)=>{n()}}}}var ct;(function(n){n[n.OUT=0]="OUT",n[n.IN=1]="IN",n[n.ARRANGE=2]="ARRANGE"})(ct||(ct={}));var Ys=[[[]]],Mn=class{constructor(t,e,n,i,r=[]){if(this.comp_constructors=t,this.comp_attributes=e||Ys,this.active_comps=[],this.mounted_comps=[],this.filters=[],this.comps=[],this.dom_dn=[],this.dom_up=[],this.evaluators=Array(t.length),this.transition_list=[],this._SCHD_=0,this.columns=1,this.limit=1/0,this.offset=0,this.offset_diff=0,this.offset_fractional=0,this.scrub_velocity=0,this.drag=.5,this.max=0,this.trs_ascending=null,this.trs_descending=null,this.USE_NULL_ELEMENT=!1,this.NULL_ELEMENT_DISCONNECTED=!1,this.UPDATE_FILTER=!1,this.DOM_UP_APPENDED=!1,this.DOM_DN_APPENDED=!1,this.AUTO_SCRUB=!1,this.LOADED=!1,this.SCRUBBING=!1,this.container_model=null,this.parent=i,this.filter=null,this.sort=null,this.first_dom_element=null,this.last_dom_element=null,this.components_pending_removal=[],this.ele=n,this.empty_index=-1,r.length>0||this.ele.getAttribute("element")=="null"){if(this.USE_NULL_ELEMENT=!0,r.length>0){this.NULL_ELEMENT_DISCONNECTED=!0,this.ele.parentElement&&this.ele.parentElement.removeChild(this.ele),this.first_dom_element=r[0],this.last_dom_element=r[r.length-1];for(let o of Vt(r))o.initialize().connect(),this.active_comps.push(o),this.comps.push(o),this.mounted_comps.push(o)}}else if(this.ele.tagName=="TABLE"&&this.ele.firstElementChild&&this.ele.firstElementChild.tagName=="TBODY"&&(this.ele=this.ele.firstElementChild),this.ele.childElementCount>0)for(let o of Vt(Array.from(this.ele.children)))o.par=i,o.initialize().connect(),this.active_comps.push(o),this.comps.push(o),this.mounted_comps.push(o)}destructor(){this.filter_new_items(),this.container_model&&this.container_model.OBSERVABLE&&this.container_model.unsubscribe(this)}sd(t){!t||(t.OBSERVABLE?t.subscribe(this):Array.isArray(t)?this.filter_new_items(t):this.filter_new_items(t.data),this.setLoadedFlag())}removeModel(){}onModelUpdate(t){this.filter_new_items(t.data)}setLoadedFlag(){this.LOADED||(this.LOADED=!0)}forceMount(){let t=this.limit,e=this.offset,n=Math.min(e+this.offset_diff,e)*this.columns,i=Math.max(e+this.offset_diff,e)*this.columns+t,r=this.active_comps.length,o=n;for(this.ele.innerHTML="",this.mounted_comps.length=0;o<i&&o<r;){let l=this.active_comps[o++];this.mounted_comps.push(l),this.append(l)}}scrub(t,e=!0){let n=this.getWindowData();if(n.limit==0){this.SCRUBBING=!1;return}this.SCRUBBING||this.arrangeScrub(n,this.active_comps),this.SCRUBBING=!0,this.AUTO_SCRUB&&!e&&t!=1/0&&(this.scrub_velocity=0,this.AUTO_SCRUB=!1);let i=t+this.offset_fractional;if(t!==1/0){if(Math.abs(i)>1&&(i>0?(i=i%1,this.offset_fractional=i,this.scrub_velocity=t,this.offset<this.max&&this.trs_ascending.step(1),this.offset++,this.offset_diff=1,this.mutateDOM(this.getWindowData(),null,this.active_comps,!0).step(1).issueStopped(),this.arrangeScrub(n,this.active_comps)):(i=i%1,this.offset_fractional=i,this.scrub_velocity=t,this.offset>=1&&this.trs_descending.step(1),this.offset--,this.offset_diff=-1,this.mutateDOM(this.getWindowData(),null,this.active_comps,!0).step(1).issueStopped(),this.arrangeScrub(n,this.active_comps))),i>0){if(this.offset+i>=this.max-1&&(i=0),!this.DOM_UP_APPENDED){for(let r=0;r<this.dom_up.length;r++)this.append(this.dom_up[r]),this.dom_up[r].index=-1,this.mounted_comps.push(this.dom_up[r]);this.DOM_UP_APPENDED=!0}this.trs_ascending.play(i)}else{if(this.offset<1&&(i=0),!this.DOM_DN_APPENDED){for(let r=0;r<this.dom_dn.length;r++)this.append(this.dom_dn[r],this.mounted_comps[0].ele),this.dom_dn[r].index=-1;this.mounted_comps=this.dom_dn.concat(this.mounted_comps),this.DOM_DN_APPENDED=!0}this.trs_descending.step(-i)}return this.offset_fractional=i,this.scrub_velocity=t,!0}else if(Math.abs(this.scrub_velocity)>1e-4){let r=Math.sign(this.scrub_velocity);Math.abs(this.scrub_velocity)<.1&&(this.scrub_velocity=this.drag*.2*r),Math.abs(this.scrub_velocity)>.5&&(this.scrub_velocity=this.drag*r),this.AUTO_SCRUB=!0;let o=this.scrub_velocity*(1/(-this.drag+1)),l=this.offset+this.offset_fractional+o;l=this.scrub_velocity>0?Math.min(this.max,Math.ceil(l)):Math.max(0,Math.floor(l));let c=l-(this.offset+this.offset_fractional),h=Math.abs(1-1/(c/this.scrub_velocity));return this.drag=h,this.scrub_velocity=this.scrub_velocity,this.SCRUBBING=!0,ft.queueUpdate(this),!0}else return this.offset+=Math.round(this.offset_fractional),this.scrub_velocity=0,this.offset_fractional=0,this.mutateDOM(this.getWindowData(),null,this.active_comps,!0).step(1).issueStopped(),this.SCRUBBING=!1,!1}arrangeScrub(t,e=this.active_comps){let{limit:n,offset:i,output_length:r,active_window_start:o}=t,l=this.limit;if(l>0){this.columns=Math.max(1,Math.min(l,this.columns));let c=0,h=0,u=[],m=Math.ceil(r/this.columns);for(this.max=m-1,i=Math.max(0,Math.min(m-1,i)),this.trs_ascending=fe(!1),this.trs_descending=fe(!1),this.dom_dn.length=0,this.dom_up.length=0,this.DOM_UP_APPENDED=!1,this.DOM_DN_APPENDED=!1;c<o-this.columns;)e[c++].index=-2;for(;c<o;){this.dom_dn.push(e[c]);let{row:p,col:_}=pt(c,i-1,this.columns);e[c].transitionIn(p,_,!0,this.trs_descending),e[c++].index=-2}for(;c<o+l&&c<r;){if(h<this.columns&&++h){let{row:p,col:_}=pt(c,i+1,this.columns);e[c].transitionOut(p,_,!0,this.trs_descending)}else{let{row:p,col:_}=pt(c,i+1,this.columns);e[c].transitionIn(p,_,!1,this.trs_ascending)}if(c>=o+l-this.columns){let{row:p,col:_}=pt(c,i-1,this.columns);e[c].transitionOut(p,_,!0,this.trs_descending)}else{let{row:p,col:_}=pt(c,i-1,this.columns);e[c].arrange(p,_,this.trs_descending)}e[c].index=c,u.push(e[c++])}for(;c<o+l+this.columns&&c<r;){this.dom_up.push(e[c]);let{row:p,col:_}=pt(c,i+1,this.columns);e[c].transitionIn(p,_,!1,this.trs_ascending),e[c++].index=-3}for(;c<r;)e[c++].index=-3;e=u,r=u.length}else this.max=0,this.limit=0}prepareTransitioningComp(t,e,n,i,r){e==0?(t.par=null,this.components_pending_removal.push(t)):t.par=this.parent,this.transition_list.push({comp:t,TYPE:e,DESCENDING:n,row:i,col:r})}getWindowData(t=this.active_comps){let e=this.limit,n=this.offset,i=t.length,r=Math.max(0,n*this.columns),o=Math.min(r+e,i),l=Math.sign(this.offset_diff),c=l<0;return{limit:e,offset:n,output_length:i,active_window_start:r,upper_bound:o,direction:l,DESCENDING:c}}arrange(t,e=this.active_comps,n=fe()){let{limit:i,offset:r,output_length:o,active_window_start:l,upper_bound:c,DESCENDING:h}=t,u=0;if(o>0){this.mounted_comps.length=0;let m;for(;u<l&&u<o;){if(e[u].is(O.CONNECTED)){let{row:p,col:_}=pt(u,r,this.columns);this.prepareTransitioningComp(e[u],0,h,p,_),m&&m.ele.insertAdjacentElement("afterend",e[u].ele),m=e[u],this.mounted_comps.push(m)}u++}for(;u<c;){let{row:p,col:_}=pt(u,r,this.columns);e[u].is(O.CONNECTED)?(this.prepareTransitioningComp(e[u],2,h,p,_),m&&m.ele.insertAdjacentElement("afterend",e[u].ele),m=e[u],this.mounted_comps.push(m)):this.prepareTransitioningComp(e[u],1,h,p,_),u++}for(;u<o;){if(e[u].is(O.CONNECTED)){let{row:p,col:_}=pt(u,r,this.columns);this.prepareTransitioningComp(e[u],0,h,p,_),m&&m.ele.insertAdjacentElement("afterend",e[u].ele),m=e[u],this.mounted_comps.push(m)}u++}}}updateRefs(t,e){let{limit:n,offset:i,output_length:r,active_window_start:o,upper_bound:l,direction:c}=t;if(this.ele.style.position=this.ele.style.position,this.USE_NULL_ELEMENT&&this.NULL_ELEMENT_DISCONNECTED&&l-o==0)if(this.mounted_comps[0].ele.parentElement)this.mounted_comps[0].ele.parentElement.insertBefore(this.ele,this.mounted_comps[0].ele),this.NULL_ELEMENT_DISCONNECTED=!1;else throw new Error("Element state invalid");this.mounted_comps.length=0;for(let h=o;h<l;h++)this.mounted_comps.push(e[h]);this.USE_NULL_ELEMENT&&this.mounted_comps.length>0&&(this.first_dom_element=this.mounted_comps[0].ele,this.last_dom_element=this.mounted_comps[this.mounted_comps.length-1].ele)}append(t,e){this.USE_NULL_ELEMENT?this.NULL_ELEMENT_DISCONNECTED?!e&&this.last_dom_element?(e=this.last_dom_element,this.last_dom_element=t.ele,t.appendToDOM(this.parent.ele,e,!0)):t.appendToDOM(this.parent.ele,e):(this.ele.parentElement&&(t.appendToDOM(this.ele.parentElement,this.ele,!1),this.ele.parentElement.removeChild(this.ele)),this.first_dom_element=t.ele,this.last_dom_element=t.ele,this.NULL_ELEMENT_DISCONNECTED=!0):t.appendToDOM(this.ele,e)}appendToDOM(t,e){let{limit:n,offset:i,output_length:r,active_window_start:o}=t,l=o,c=Math.min(o+n,r),h=Math.min(o,r);for(;h<c;)e[h].index=h++;for(let u=0;u<this.mounted_comps.length&&l<c;u++){let m=this.mounted_comps[u];for(;l<c&&e[l].is(O.CONNECTED);)l++;for(;l<m.index&&l<c;){let p=e[l];p.index=-1,this.append(p,m.ele),l++}}for(;l<c;)this.append(e[l]),e[l].index=-1,l++;return l}removeFromDOM(){for(let t of this.components_pending_removal)t.par=null,t.removeFromDOM();this.components_pending_removal.length=0}mutateDOM(t,e,n=this.active_comps,i=!1){let r=!1;if(e||(e=fe(),r=!0),this.arrange(t,n,e),this.appendToDOM(t,n),this.updateRefs(t,n),this.primeTransitions(e),r)if(!j.glow||i)this.removeFromDOM();else{for(let o of this.components_pending_removal)o.is(O.TRANSITIONED_IN)||o.removeFromDOM();e.asyncPlay().then(this.removeFromDOM.bind(this))}return e}primeTransitions(t){for(let{TYPE:e,row:n,col:i,DESCENDING:r,comp:o}of this.transition_list)switch(e){case 1:o.transitionIn(n,i,r,t);break;case 0:o.transitionOut(n,i,r,t);break;case 2:o.arrange(n,i,t);break}this.transition_list.length=0}limitExpressionUpdate(t){this.mutateDOM(this.getWindowData(),t),this.offset_diff=0}filterExpressionUpdate(t){this.updateFilter(),this.limitExpressionUpdate(t)}updateFilter(){if(this.active_comps.length=0,this.filter)for(let t of this.comps)this.filter(t.container_model??{})?this.active_comps.push(t):t.is(O.CONNECTED)&&this.components_pending_removal.push(t);else this.active_comps.push(...this.comps);return this.sort&&this.active_comps.sort((t,e)=>this.sort(t.container_model??{},e.container_model??{})),this.UPDATE_FILTER=!1,this.active_comps}setFilter(t){typeof t=="function"&&(this.filter=t)}setSort(t){typeof t=="function"&&(this.sort=t)}updateScrub(t){typeof t=="number"&&t!=0?this.scrub(t):t===null&&this.SCRUBBING&&(this.AUTO_SCRUB=!0,this.scheduledUpdate())}updateLimit(t){let e=parseInt(t.toString());e?(e=Math.max(0,e),this.limit!=e&&(this.limit=e,this.update())):(this.limit=1/0,this.update())}updateShift(t){typeof t=="number"&&this.columns!=t&&(this.columns=t,this.update())}updateOffset(t){typeof t=="number"&&this.offset!=t&&(this.offset=t,this.update())}update(){ft.queueUpdate(this)}scheduledUpdate(){if(this.SCRUBBING){if(!this.AUTO_SCRUB){this.SCRUBBING=!1;return}if(Math.abs(this.scrub_velocity)>1e-4){if(this.scrub(this.scrub_velocity)){this.scrub_velocity*=this.drag;let t=this.offset+this.scrub_velocity;(t<0||t>this.max)&&(this.scrub_velocity=0),ft.queueUpdate(this)}}else this.scrub_velocity=0,this.scrub(1/0),this.SCRUBBING=!1}else this.filterExpressionUpdate()}filter_new_items(t=[]){let e=fe();if(t.length==0){let n=this.active_comps.length;this.USE_NULL_ELEMENT&&this.NULL_ELEMENT_DISCONNECTED&&this.first_dom_element&&this.first_dom_element.parentElement&&this.first_dom_element.parentElement.insertBefore(this.ele,this.first_dom_element);for(let i=0;i<n;i++){let{row:r,col:o}=pt(i,this.offset,this.columns);this.prepareTransitioningComp(this.active_comps[i],0,!1,r,o)}this.comps.length=0,this.active_comps.length=0,this.mountEmpty(e)?(this.scheduledUpdate(),e.play()):(this.primeTransitions(e),e.play())}else{let n=new Map(t.map(r=>[r,!0])),i=[];for(let r=0,o=this.active_comps.length;r<o;r++)n.has(this.active_comps[r].container_model)&&n.set(this.active_comps[r].container_model,!1);for(let r=0,o=this.comps.length;r<o;r++)n.has(this.comps[r].container_model)?n.set(this.comps[r].container_model,!1):(this.prepareTransitioningComp(this.comps[0],0,!1,-1,-1),this.comps[r].index=-1,this.comps.splice(r,1),o--,r--);for(let[r,o]of n)o&&(typeof r!="object"?i.push({value:r}):i.push(r));if(i.length>0)this._add(i,e);else for(let r=0,o=0,l=this.active_comps.length;r<l;r++,o++)if(this.active_comps[r]._TRANSITION_STATE_){if(o!==r){let{row:c,col:h}=pt(r,this.offset,this.columns);this.active_comps[r].arrange(c,h,e)}}else this.active_comps.splice(r,1),r--,l--;this.scheduledUpdate(),this.SCRUBBING||e.play()}}addEmpty(t){this.empty_index=t,this.active_comps.length==0&&this.filter_new_items()}addEvaluator(t,e){this.evaluators[e]=t}mountEmpty(t){if(this.empty_index!=-1){let e=this.createComp(this.empty_index);return this.active_comps.push(e),this.comps.push(e),this.filterExpressionUpdate(t),!0}return!1}createComp(t,e=null){let n=Yi(this.comp_constructors[t].name);if(!n)throw new Error("Unable create container component");this.parent.addChild(n),n.setStatus(O.CONTAINER_COMPONENT),n.container=this,n.hydrate().initialize(e),n.disconnect();let i=this.comp_attributes[t];if(i)for(let[r,o]of i)!r||(r=="class"?o&&n.ele.classList.add(...o.split(" ")):n.ele.setAttribute(r,o??""));return n.container_model=e,n}_add(t,e){let n=!1,i=this.comp_constructors.length;e||(n=!0);for(let r of t){let o=null;if(r instanceof zt)o=r;else for(let l=0;l<i;l++){if(l==this.empty_index)continue;let c=this.evaluators[l];if(l==i-1||c&&c(r)){o=this.createComp(l,r);break}}o&&(o.par=this.parent,this.comps.push(o))}n&&this.filterExpressionUpdate(e)}purge(){let t=new WeakSet;if(this.USE_NULL_ELEMENT&&this.NULL_ELEMENT_DISCONNECTED){let e=this.first_dom_element;e?.parentElement?.insertBefore(this.ele,e),this.NULL_ELEMENT_DISCONNECTED=!1}for(let e of[...this.comps,...this.active_comps,...this.mounted_comps,...this.transition_list.map(n=>n.comp)])t.has(e)||(t.add(e),e.par=null,e.removeFromDOM(),e.destructor());this.comps.length=0,this.active_comps.length=0,this.mounted_comps.length=0,this.transition_list.length=0}};me();function*ts(s){let t=s.classList.length;for(let e=0;e<t;e++)es(s.classList[e])&&(yield s.classList[e])}var tr=/W[_\$a-zA-Z0-9]+/;function es(s){return!!s.match(tr)}function ns(s){return s&&[...ts(s)].length>0}function is(s){return s&&s.tagName=="TEMPLATE"&&s.classList.contains("wk-c")&&es(s.id+"")}function Vt(s){let t=[];for(let e of s)t.push(pe(e));return t.filter(e=>e!==null)}function Yi(s){let t=j.templates.get(s);if(!t)throw new Error("Unable to acquire template for "+s);let e=t.content.cloneNode(!0),n=e.firstElementChild;return pe(n)}function pe(s,t=0,e=0,n){let i=ts(s),r=0,o=void 0,l=null,c=[...i];t=e,e+=c.length;for(let h of c){let u=j.gC(h);if(u)if(!l&&n)l=n;else{let m=new u(s,l,t++,e,o,o);m.hydrate(),l=m}else X.get("wick").activate(C.WARN).warn(`WickRT :: Could not find component data for ${h}`)}return l}function ss(s,t,e=[]){let n=s.dataset.wkctr.split(" ").map(o=>t.rt.context.component_class.get(o)),i=(s.dataset.wkctra??"").split(":").map(o=>o.split(";").map(l=>l.split("=")));if(n.length<1)throw new Error(`Could not find component class for ${name} in component ${t.name}`);let r=new Mn(n,i,s,t,e);t.ctr.push(r)}var rs;(function(e){e[e.DOWN=1]="DOWN",e[e.UP=2]="UP"})(rs||(rs={}));var ne=new Map,er=s=>s;function nr(s){!lt(z.WORKSPACE)||(ne.has(s.name)||(ne.set(s.name,new Set),er(s.name)),ne.get(s.name).add(s))}function ir(s){if(!lt(z.WORKSPACE)||!ne.has(s.name))return;let t=ne.get(s.name);t.delete(s),t.size==0&&ne.delete(s.name)}var zt=class{is(t){return(this.getStatus()&t)==t}getStatus(){return this.status}setStatus(...t){this.status|=t.reduce((e,n)=>e|n,0)}removeStatus(...t){let e=this.getStatus();this.status^=e&t.reduce((n,i)=>n|i,0)}constructor(t=null,e=null,n=0,i=0,r="",o=j){this.name=this.constructor.name,this.ch=[],this.elu=[],this.ctr=[],this.pui=[],this.nui=[],this.binding_call_set=[],this.call_set=new Map,this.updated_attributes=new Set,this.model=null,this.originator=null,this.host=null,this.update_state=0,this.active_flags=0,this.call_depth=0,this.status=0,this.ci=0,this.up=this.updateParent,this.spm=this.syncParentMethod,this.pup=this.updateFromChild,this.ufp=this.updateFromParent,this._SCHD_=0,this.polling_id=-1,this.rt=o,this.setCSS(),this.attr=new Map,this.ch_map=new Map,r&&(o.context.models[r]||(o.context.models[r]={}),this.model=o.context.models[r]),e&&(this.originator=e,e.host=this),t?(this.ele=t,this.integrateElement(t,!0,n,i)):this.ele=this.createElement(n,i,[this]),this.ele.dataset.wrtc=this.name,this.init_interfaces(this),nr(this)}denit(){}init_interfaces(t){}initialize(t=this.model){if(this.is(O.INITIALIZED))return this;this.connect(),this.setStatus(O.INITIALIZED),this.model=t,this.init(this);for(let e of this.ch)try{e.initialize()}catch(n){console.log(n)}if(this.originator)try{this.originator.initialize()}catch(e){console.log(e)}return this.async_init(),this.setModel(t),this}hydrate(){try{this.c()}catch(t){console.error(t)}j.OVERRIDABLE_onComponentCreate(this);for(let t of this.ch)t.hydrate();return this}destructor(){this.denit(),this.model&&this.setModel(null),this.originator&&(this.originator.host=null,this.originator.destructor()),this.host&&(this.host.originator=null,this.host.destructor()),this.par&&this.par.removeChild(this),ir(this),this.removeCSS()}removeChild(t){if(t.par==this){let e=this.ch.indexOf(t);e>=0&&this.ch.splice(e,1),t.par=null}}addChild(t){if(t==this)throw new Error("Invalid parent child connection");for(let e of this.ch)e!=t;t.par=this,this.ch.push(t)}connect(){this.setStatus(O.CONNECTED,O.ALLOW_UPDATE);for(let t of this.ch)t.connect();this.originator&&this.originator.connect(),this.onModelUpdate()}disconnect(){for(let t of this.ch)t.disconnect();this.originator&&this.originator.disconnect(),this.removeStatus(O.CONNECTED,O.ALLOW_UPDATE)}ce(){if(j.templates.has(this.name)){let t=j.templates.get(this.name);if(t){let e=t.content.cloneNode(!0),n=e.firstElementChild;return this.integrateElement(n),n}}throw new Error(`WickRT :: NO template element for component: ${this.name}. Was this component defined without a default HTML element export?`)}removeCSS(){j.removeCSS(this.name)}setCSS(){j.setCSS(this)}appendToDOM(t,e=null,n=!1){this.connecting(),this.connect(),this.ele&&(e?n?e.nextElementSibling?e.parentElement?.insertBefore(this.ele,e.nextElementSibling):e.parentElement?.appendChild(this.ele):e.parentElement?.insertBefore(this.ele,e):t.appendChild(this.ele)),this.connected()}removeFromDOM(){!this.is(O.CONNECTED)||(this.disconnecting(),this.ele&&this.ele.parentElement&&!this.par&&this.ele.parentElement.removeChild(this.ele),this.disconnect(),this.disconnected())}oTIC(){}oTI(t,e,n,i){}oTO(t,e,n,i){}aRR(t,e,n){}onTransitionOutEnd(){return this.is(O.TRANSITIONED_IN)||(this.setStatus(O.TRANSITIONED_OUT),this.is(O.DESTROY_AFTER_TRANSITION)&&this.destructor(),this.removeStatus(O.DESTROY_AFTER_TRANSITION)),this.out_trs=null,!1}transitionOut(t,e,n,i=null,r=!1){for(let l of this.ch)l.transitionOut(t,e,n,i,!1);r&&this.setStatus(O.DESTROY_AFTER_TRANSITION),this.removeStatus(O.TRANSITIONED_IN);let o=0;if(i){let l=i.out_seq.length;if(this.oTO(t,e,n,i.out),l!=i.out_seq.length){i.addEventListener("stopped",this.onTransitionOutEnd.bind(this));try{o=i.out_duration}catch(c){console.log(c)}}else this.onTransitionOutEnd()}else this.out_trs||this.onTransitionOutEnd();return o=Math.max(o,0),o}se(t,e){this.elu.push([e])}re(t,e){!this.elu[t]||(this.elu[t]=this.elu[t].filter(n=>n!=e))}arrange(t,e,n){this.aRR(t,e,n.in)}transitionIn(t,e,n,i){for(let r of this.ch)r.is(O.CONTAINER_COMPONENT)||r.transitionIn(t,e,n,i);this.originator&&this.originator.transitionIn(t,e,n,i);try{this.oTI(t,e,n,i.in),this.setStatus(O.TRANSITIONED_IN)}catch(r){console.log(r)}}transitionInEnd(){for(let t of this.ch)t.transitionInEnd();this.originator&&this.originator.transitionInEnd(),this.oTIC()}setModel(t){this.model&&t!=this.model&&(this.polling_id>=0&&(clearInterval(this.polling_id),this.polling_id=-1),this.model.unsubscribe&&this.model.unsubscribe(this),this.model=null),t&&(this.model=t,typeof t.subscribe=="function"?t.subscribe(this):(this.polling_id<0&&(this.polling_id=setInterval(this.onModelUpdate.bind(this),1e3/15)),this.onModelUpdate(t)))}removeModel(){this.setModel(null)}onModelUpdate(t=this.model,e=T.ALLOW_UPDATE_FROM_MODEL|T.DEFAULT_BINDING_STATE){!this.is(O.ALLOW_UPDATE)||t&&(this.update(t,e),this.updateChildrenWithModel(t))}updateChildrenWithModel(t){for(let e of this.ch)e.onModelUpdate(t,T.ALLOW_UPDATE_FROM_MODEL|T.FROM_ATTRIBUTES|T.DEFAULT_BINDING_STATE)}decodeAttribute(t){return t}updateAttributeData(t){if(t.is(O.DIRTY)){let e=null;if(t.is(O.CONTAINER_COMPONENT)?e=this.ch_map.get(t.constructor):e=this.ch_map.get(t),e){let[n,i]=e,r=t.get_attr(i),o={[n]:r};r!==void 0&&this.update(o,T.FROM_OUTSIDE)}t.removeStatus(O.DIRTY)}}update(t,e=1,n=!1){if(!!this.is(O.ALLOW_UPDATE)){for(let i in t){let r=this.attr.get(i);if(r){let{meta:o,module:l}=r,c=o>>>St.VALUE;e&&(c&e)==e&&(e&T.FROM_OUTSIDE&&c&T.FROM_STORE?j.set_store(l,i,t[i],this):this.set_attr(i,t[i]))}}n&&this.scheduledUpdate(0,0)}}set_attr(t,e,n=!1){let i=this,r=this.attr.get(t);if(r){let o=r.val,l=r.meta&St.MASK;return(e!==o||typeof e=="object")&&(r.val=e,!this.call_set.has(l)&&this.lookup_function_table[l]&&(this.call_set.set(l,[this.active_flags,this.call_depth]),ft.queueUpdate(this)),r.meta>>>St.VALUE&T.FROM_ATTRIBUTES&&this.par&&(this.setStatus(O.DIRTY),this.par.updateAttributeData(this))),n?o:i[l]}else throw new Error("Undefined attribute "+t)}get_attr(t){return this.attr.get(t)?.val??void 0}check(...t){for(let e of t)if(this.attr.get(e)?.val===void 0)return!1;return!0}syncParentMethod(t,e,n){this.ci=n,this.pui[t]=this.par["u"+e]}updateFromParent(t,e,n){n>>St.VALUE!=this.ci+1&&(this.active_flags|=T.FROM_ATTRIBUTES,this.set_attr(t,e))}updateParent(t){this.par&&this.updateFromChild.call(this.par,t)}updateFromChild(t){for(let e in t){let n=t[e];if(n!==void 0&&this.nlu){let i=this.nlu[e];if(i>>>St.VALUE&T.ALLOW_UPDATE_FROM_CHILD){let r=this.call_depth;this.call_depth=0,this.set_attr(i&St.MASK,n),this.call_depth=r}}}}scheduledUpdate(t,e){this.call_depth=1;for(let[n,i]of this.clearActiveBindingCalls())this.lookup_function_table[n].call(this,i),this.call_depth=0,this.active_flags=0;for(let[n,i]of this.clearActiveCalls())this.lookup_function_table[n].call(this,...i),this.call_depth=0,this.active_flags=0}clearActiveBindingCalls(){if(this.binding_call_set.length==0)return[];let t=this.binding_call_set.slice();return this.binding_call_set.length=0,t}clearActiveCalls(){if(this.call_set.size==0)return[];let t=[...this.call_set.entries()];return this.call_set.clear(),t}runActiveCalls(){}call(t,e=0){for(let[n]of this.binding_call_set)if(n==t)return;this.lookup_function_table[t].call(this,e)}c(){}init(t){}async_init(){}onMounted(){}getCSS(){return""}integrateElement(t,e=!0,n=0,i=0){let r=0,o=!0,l=this,c=Object.fromEntries(t.classList.toString().split(" ").filter(h=>h.slice(0,2)=="wk").map(h=>{let[,u,m]=h.split("-").slice();return[u,m??"true"]}));if(c.claim&&!e&&+parseInt(c.claim)!=n)return this.setStatus(O.FOREIGN_HOST),Sn(t,l,n,i),0;if(e)t.classList.add(this.name),this.ele=t,t.wick_component=this,c.ctr&&({sk:r,PROCESS_CHILDREN:o}=os(t,l,r,o)),this.se(0,t);else{if(c.null)return 0;if(t.tagName=="W-E"){let h=t.children[0];return this.integrateElement(h,!1,component_chain),t.replaceWith(h),this.se(this.elu.length,h),0}else if(t.tagName=="W-B"){let h=document.createTextNode(t.innerHTML);return t.replaceWith(h),this.se(this.elu.length,h),0}else{if(t.tagName=="A"&&j.context.processLink(t),c.o)return this.par&&this.par.se(+c.o,t),Sn(t,this.par,component_chain),0;if(c.r,c.ctr)({sk:r,PROCESS_CHILDREN:o}=os(t,l,r,o));else if(c.c!==void 0&&this.ele!==t){let h=pe(t,n,parseInt(c.c));h&&this.addChild(h)}}this.se(this.elu.length,t)}return Sn(t,l,n,i),r}ue(t,e){for(let n of this.elu[t]??[]){if(e instanceof HTMLElement){this.re(t,n),this.se(t,e),n.parentElement&&n.parentElement.replaceChild(e,n);continue}else if(!(n instanceof Text)){let i=new Text;this.re(t,n),this.se(t,i),n.parentElement&&n.parentElement.replaceChild(i,n),n=i}n.data=e+""}}sa(t,e,n){for(let i of this.elu[t]??[])e=="value"?i.value=n:e=="class"?i.classList.add(...n.split(" ")):i.setAttribute(e,n)}set_class(t,e,n){if(!n){console.warn("Error while attempting to set class attribute on element. [classes] param is undefined");return}let i=!!e,r=[];Array.isArray(n)?r=n.flatMap(o=>o.toString().split(" ")):r=n.toString().split(" ");for(let o of this.elu[t]??[])o instanceof HTMLElement&&(i?o.classList.add(...r):o.classList.remove(...r))}al(t,e,n,i=!1){for(let r of this.elu[t]??[]){let o=i?n.bind(this):n;r.addEventListener(e,o)}}makeElement(t,e=""){let n=document.createElement("div");return n.innerHTML=t,n.firstElementChild}createElement(t,e){let n=this.ce();return pe(n,0,0,this),this.integrateElement(n,!0,t,e),n}connecting(){}connected(){}disconnecting(){}disconnected(){}};function os(s,t,e,n){let i=parseInt(s.getAttribute("null")||"0")||0,r=[];if(i>0){let o=s;for(let l=0;l<i;l++)r.push(o.nextElementSibling),o=r[l]}return ss(s,t,r),e=i,n=!1,{sk:e,PROCESS_CHILDREN:n}}function Sn(s,t,e=0,n=0){let i=0;for(let r of Array.from(s.children)||[])i-- >0||(i=t.integrateElement(r,!1,e,n))}var L=(s,t,e)=>Object.defineProperty(s,t,{value:e,configurable:!1,enumerable:!1,writable:!0}),as=(s,t,e)=>Object.defineProperty(s,t,{value:e,configurable:!1,enumerable:!1,writable:!1}),nt=class{constructor(){this.OBSERVABLE=!0,this._cv_=[],this.observers=[],this.fv=null,this.par=null,this.prop_name="",this._SCHD_=0,L(this,"OBSERVABLE",this.OBSERVABLE),L(this,"_SCHD_",this._SCHD_),L(this,"_cv_",this._cv_),L(this,"fv",this.fv),L(this,"par",this.par),L(this,"prop_name",this.prop_name),L(this,"observers",this.observers)}destroy(){for(var t=this.fv;t;){let e=t.nx;t.unsetModel(),t=e}this._cv_.length=0}setHook(t,e){return e}getHook(t,e){return e}scheduleUpdate(t){this.par&&this.par.scheduleUpdate(),this.observers.length!=0&&(t&&this._cv_.push(t),ft.queueUpdate(this))}subscribe(t){return this.observers.indexOf(t)>=0?!1:(this.observers.push(t),t.onModelUpdate(this),!0)}unsubscribe(t){return this.observers.indexOf(t)>=0?(this.observers.splice(this.observers.indexOf(t),1),!0):!1}scheduledUpdate(t){this.updateViews()}updateViews(){for(let t of this.observers)t.onModelUpdate(this)}toJSON(t){return JSON.stringify(this,null,"	")}set(t){return!1}};var _e=class{constructor(){this.start_value=void 0}parse(t){return t}verify(t,e){e.valid=!0}filter(t,e){for(let n=0,i=e.length;n<i;n++)if(t===e[n])return!0;return!1}string(t){return t+""}};var sr=()=>{};var ie=class extends nt{constructor(t=[]){super();return L(this,"source",null),L(this,"first_link",null),L(this,"pin",sr),L(this,"next",null),L(this,"prev",null),L(this,"_filters_",null),this.validator=new _e,this}setByIndex(t,e){}getByIndex(t,e){}destroy(){this._filters_=null,this.source&&this.source.__unlink__(this),super.destroy()}get length(){return 0}set length(t){}__defaultReturn__(t){return this}push(...t){t.forEach(e=>{e instanceof Array?e.forEach(n=>{this.insert(n)}):this.insert(e)})}get(t,e){let n=null;t=this.getHook("term",t);let i=e!==null;if(t?e?n=e:(this.source||(i=!1),n=this.__defaultReturn__(i),n.__setFilters__(t)):n=e||this.__defaultReturn__(i),!t)this.__getAll__(n);else{let r=t;Array.isArray(t)||(r=[t]),r=r.map(o=>this.validator.parse(o)),this.__get__(r,n)}return n}set(t){return this.insert(t),!1}insert(t){t=this.setHook("",t);let e=this.fv?[]:null,n=!1;if(Array.isArray(t))for(let i=0;i<t.length;i++)this.__insertSub__(t[i],n,e)&&(n=!0);else t&&(n=this.__insertSub__(t,n,e));return n&&(this.par&&this.par.scheduleUpdate(this.prop_name),this.scheduleUpdate()),n}__insertSub__(t,e,n){var i=this._gI_(t);return i!==void 0&&(t&&typeof t=="object"&&!(t instanceof nt)&&this.model&&(t=new this.model.constructor(t),t.par=this),e=this.__insert__(t,n)),e}delete(t,e=!1){this.remove(t)}remove(t,e=!1,n=!1){if(!n&&this.source)return t?this.source.remove(t):this.source.remove(this._filters_);let i=[];if(!t)this.__removeAll__();else{let r=Array.isArray(t)?t:[t];r=r.map(o=>o instanceof nt?o:this.validator.parse(o)),this.__remove__(r,i)}return i.length>0&&i&&i.length>0&&(this.updateViews(),this.scheduleUpdate()),i}cull(t){let e={},n=this.__getAll__([]),i=r=>{if(r instanceof Array)return r.forEach(l=>i(l));let o=this._gI_(r);o!==void 0&&(e[o]=r)};i(t);for(let r=0;r<n.lenth;r++){let o=n[r];n[this._gI_(o)]||this.__remove__(o)}this.insert(t)}__setFilters__(t){this._filters_||(this._filters_=[]),Array.isArray(t)?this._filters_=this._filters_.concat(t.map(e=>this.validator.parse(e))):this._filters_.push(this.validator.parse(t))}__filterIdentifier__(t,e){return e.length>0?this.validator.filter(t,e):!0}_gIf_(t,e){let n=this._gI_(t,this._filters_)}_gI_(t,e=null){return t}__insert__(t,e=this.fv?[]:null){return!1}__get__(t,e){return e}__getAll__(t){return t}__removeAll__(){return[]}__remove__(t,e=null){return!1}},Cn=ie.prototype;L(Cn,"model",null);L(Cn,"key","");L(Cn,"validator",null);var rr={set:function(s,t,e){if(t in s&&s[t]==e)return!0;let n=s[t];return n&&typeof n=="object"?n.set(e):s[t]=e,s.scheduleUpdate(t),!0},get:function(s,t,e){if(t in s)return s[t];if(!isNaN(t))return s.data[t];let n={};return n[s.key]=t,s.get(t,[])[0]}},ht=class extends ie{constructor(t=[]){super();return this.key="",this.model=void 0,this.data=[],t[0]&&t[0].model&&(t[0].model&&(this.model=t[0].model),t=t.slice(1)),Array.isArray(t)&&t.length>0&&this.insert(t),this.proxy}destroy(){this.data.length=0,super.destroy()}get proxy(){return new Proxy(this,rr)}set proxy(t){}get length(){return this.data.length}set length(t){let e=Math.min(Math.max(0,t),this.data.length);this.data.length=e,this.scheduleUpdate()}__defaultReturn__(t){return this}__insert__(t,e){return this.data.push(t),e&&e.push(t),!0}getByIndex(t){return this.data[t]}setByIndex(t,e){this.data[t]=e}__get__(t,e){let n=null;t&&(t instanceof Array?n=t:n=[t]);for(let i=0,r=this.data.length;i<r;i++){let o=this.data[i];this._gI_(o,n)&&e.push(o)}return e}__getAll__(t){return this.data.forEach(e=>{t.push(e)}),t}__removeAll__(){let t=this.data.map(e=>e);return this.data.length=0,t}__remove__(t,e){let n=!1;t=t.map(r=>r instanceof nt?this._gI_(r):r);for(let r=0,o=this.data.length;r<o;r++){var i=this.data[r];if(this._gI_(i,t)){n=!0,this.data.splice(r,1),o--,r--,e.push(i);break}}return n}toJSON(){return JSON.stringify(this.data)}[Symbol.iterator](){let t=-1;return{next:e=>t<this.data.length?{value:this.data[++t],done:t==this.data.length}:{value:null,done:!0}}}remove(t){t>=0&&t<this.length&&(this.data.splice(t,1),this.scheduleUpdate())}splice(t,e,...n){this.data.splice(t,e,...n),this.scheduleUpdate()}sort(t){this.data.sort(t),this.scheduleUpdate()}indexOf(t){return this.data.indexOf(t)}pop(){let t=this.data.pop();return this.scheduleUpdate(),t}shift(){let t=this.data.shift();return this.scheduleUpdate(),t}filter(t){return this.data.filter(t)}map(t){return this.data.map(t)}concat(...t){let e=[...this.data];for(let n of t)n instanceof ht?e.push(...n.data):Array.isArray(n)?e.push(...n):e.push(n);return e}reduce(t,e){this.data.reduce(t,e)}};Object.freeze(ht);var se=class extends nt{constructor(t){super();if(this.look_up=new Map,L(this,"look_up",this.look_up),t)for(let e in t)this.createProp(e,t[e]);return this}get proxy(){return this}set(t,e=""){if(typeof t=="undefined")return!1;let n=!1;for(let i in t){let r=this.look_up.get(i);r!==void 0?typeof r=="object"?r.set(t[i],!0)&&(this.scheduleUpdate(),n=!0):r!==t[i]&&(this.look_up.set(i,r),this.scheduleUpdate(),n=!0):(this.createProp(i,t[i]),n=!0)}return n}createProp(t,e){switch(typeof e){case"object":if(e){Array.isArray(e)?this.look_up.set(t,new ht(e)):e instanceof nt?this.look_up.set(t,e):this.look_up.set(t,new On(e));let n=this.look_up.get(t);n.prop_name=t,n.par=this,Object.defineProperty(this,t,{configurable:!1,enumerable:!0,get:function(){return this.getHook(t,this.look_up.get(t))},set:i=>{}});break}default:this.look_up.set(t,e),Object.defineProperty(this,t,{configurable:!1,enumerable:!0,get:function(){return this.getHook(t,this.look_up.get(t))},set:function(n){this.look_up.get(t)!==n&&(this.look_up.set(t,this.setHook(t,n)),this.scheduleUpdate(t))}})}this.scheduleUpdate()}scheduleUpdate(){this.par&&this.par instanceof ht&&this.par.scheduleUpdate(),super.scheduleUpdate()}toJSON(t=!0){let e={};for(let[n,i]of this.look_up)i&&(i instanceof nt?e[n]=i.toJSON(!1):e[n]=i);return t?JSON.stringify(e):e.toString()}};function On(s){return Array.isArray(s)?new ht(s):new se(s)}function or(s,t,e){s[e]||Object.defineProperty(s,e,{configurable:!1,enumerable:!0,get:function(){return this.getHook(e,this.prop_array.get(e))},set:function(n){let i={valid:!1},r=scheme.parse(n);scheme.verify(r,i),i.valid&&this.prop_array.get(e)!=r&&(this.prop_array.set(e,this.setHook(e,r)),this.scheduleUpdate(e),this._changed_=!0)}})}function de(s,t,e,n){Object.defineProperty(s,e,{configurable:!1,enumerable:!0,get:function(){let i=this.prop_array.get(e);if(!i){let r=this.address.slice();r.push(this.prop_array.size),i=new t(null,this.root,r),i.par=this,i.prop_name=e,i.MUTATION_ID=this.MUTATION_ID,this.prop_array.set(e,i)}return this.getHook(e,i)}})}var ls=class extends ht{constructor(t){super(t.self);if(t.proto)for(let e in t.proto)L(this,e,t.proto[e])}},qt=class extends nt{constructor(t,e=null){super();if(this.prop_array=new Map,this.constructor===qt&&(this.constructor=class extends qt{}),!this.schema){let n=this.constructor.schema||e;if(this.constructor.schema=n,n){let i=n.__FinalConstructor__,r=this.constructor,o=r.prototype;if(!i){let l=0,c={};for(let h in n){let u=n[h];if(h=="self"&&Array.isArray(u))return new ls(n,root,address);if(h=="getHook"){o.getHook=u;continue}if(h=="setHook"){o.setHook=u;continue}if(h=="proto"){for(let m in n.proto)L(o,m,n.proto[m]);continue}if(typeof u=="function")de(o,u,h,l);else if(typeof u=="object")Array.isArray(u)?u[0]&&u[0].container&&u[0].schema?de(o,u[0],h,l):u[0]instanceof ie?de(o,u[0].constructor,h,l):de(o,se,h,l):u instanceof _e?or(o,u,h,l):de(o,u.constructor,h,l);else{console.warn(`Could not create property ${h}.`);continue}c[h]=l,l++}return L(o,"prop_offset",l),L(o,"look_up",c),L(o,"changed",!1),Object.seal(r),n.__FinalConstructor__=r,new n.__FinalConstructor__(t)}L(o,"prop_array",this.prop_array),as(o,"schema",n)}else return new se(t)}t&&this.set(t)}destroy(){}set(t){if(!t)return!1;this._changed_=!1;for(let e in t){let n=t[e];if(this.look_up[e]!==void 0){let r=this[e];typeof r=="object"?r.set(n,!0)&&this.scheduleUpdate(e):this[e]=n}}return this._changed_}createProp(){}};qt.prototype.toJSON=se.prototype.toJSON;Ft();var An=s=>!0,ar=function(){console.warn(`Wick.rt is incapable of compiling components. Use the full Wick library instead. 
	 A placeholder component will be generated instead.`);let s={mount:An,get pending(){return s},class:function(){this.ele=document.createElement("div"),this.ele.innerHTML="Wick.rt is incapable of compiling components, a dummy component has been generated instead."},createInstance:An};return s},cs=Object.assign(ar,{radiate:null,rt:j,setWrapper:An,objects:{WickRTComponent:zt,Context:ee,Observable:On,ObservableArray:ht,ObservableScheme(s){return new qt(s)}},async queue_hydrate(){window.addEventListener("load",async()=>{await j.init_module_promise;let s=kn();for(let t of Vt(s))t.initialize(),lt(z.WORKSPACE)&&j.addRootComp(t)})},toString(){return`
      __           _    _ _____ _____  _   __      _   
     / _|         | |  | |_   _/  __ | | / /     | |  
  ___| |___      _| |  | | | | | /  /| |/ / _ __| |_ 
 / __|  _  / / / |/| | | | | |    |    | '__| __|
| (__| |   V  V /  /  /_| |_| __/| |   |  | |_ 
 ___|_|   _/_(_)/  / ___/ ____/_| _/_|   __|
 `}});function kn(s=window.document.body){let t=[s],e=[];for(;t.length>0;)for(let n of Array.from(t.shift()?.children??[]))n.nodeType==Node.ELEMENT_NODE&&(is(n)?j.templates.set(n.id,n):ns(n)?e.push(n):t.push(n));return e}var Ot=cs;globalThis.wick=cs;var ze=class{constructor(t,e=null){this.id=t.id||t.classList[0],this.component=t.wick_component,this.bubbled_elements=null,this.wraps=[],this.page=e,this.interior_components=new Map,this.ele=t,t.dataset.unique?this.unique=!!t.dataset.unique:this.unique=!1,this.setComponents()}down(t,e){this.component.update(t)}finalizeDisconnect(){}disconnectComponents(){}loadComponents(t,e){let n=this.ele.firstChild;for(let i=0;i<this.wraps.length;i++){let r=this.wraps[i];if(r.parentElement){let o=this.interior_components.get(i);r.parentElement.replaceChild(r,o.ele)}}if(e){let i=document.createElement("temp");for(let[r,o]of e.interior_components)if(this.interior_components.has(r)){let l=this.interior_components.get(r),c=l.par,h=o.par;if(h&&c){let u=h.ch.indexOf(o),m=c.ch.indexOf(l),p=l.ele?.parentElement,_=o.ele?.parentElement;p&&_&&(_.replaceChild(i,o.ele),p.replaceChild(o.ele,l.ele),_.replaceChild(l.ele,i),e.interior_components.set(r,l),this.interior_components.set(r,o),c.ch[m]=o,h.ch[u]=l,l.par=c,o.par=h)}}}}transitionOut(t){this.component.transitionOut(0,0,!0,t)}transitionIn(t){this.component.transitionIn(0,0,!0,t)}bubbleLink(t,e,n={}){this.bubbled_elements=n,history.pushState({},"ignored title",t),window.onpopstate(new PopStateEvent("wick-bubble"))}setComponents(){var t=Array.prototype.map.call(this.ele.querySelectorAll("[w\\:c]"),e=>e);for(let e of t){let n=e.wick_component;if(e.id){let i=e.id+"--"+n.name;this.interior_components.set(i,n)}}}};Ft();var it;(function(i){i[i.WICK_PAGE=0]="WICK_PAGE",i[i.WICK_MODAL=1]="WICK_MODAL",i[i.WICK_TRANSITIONING_MODAL=2]="WICK_TRANSITIONING_MODAL",i[i.STANDARD=3]="STANDARD"})(it||(it={}));var ge=class{constructor(t,e,n){e.classList.add("radiate-page"),this.page_component_name=e.classList[0],this.url=t,this.eles=[],this.type=3,this.ele=e,this.component=null,this.ele_backer=null,this.CONNECTED=!1,this.SHOULD_CLOSE=!1,this.style=null,this.title=n,this.init_components()}init_components(){if(this.ele){for(let e of Vt([this.ele]))if(e){try{e.initialize()}catch(n){console.log(n)}lt(z.WORKSPACE)&&j.addRootComp(e)}this.component=this.ele.wick_component;let t=Array.from(this.ele.querySelectorAll(`[radiate=${this.page_component_name}]`)).filter(e=>e.parentElement==this.ele);for(let e of t)this.eles.push(new ze(e,this))}}destroy(){this.eles=[],this.ele=null}finalizeDisconnect(){if(!this.CONNECTED&&this.ele){for(let t of this.eles)t.finalizeDisconnect();this.ele.parentElement&&this.ele.parentElement.removeChild(this.ele),this.style&&this.style.parentElement&&this.style.parentElement.removeChild(this.style)}}primeDisconnect(){this.CONNECTED=!1;for(let t of this.eles)t.disconnectComponents()}getElement(t){return this.eles.find(e=>e.id==t)}connect(t,e,n=null){if(this.style&&!this.style.parentElement&&document.head.appendChild(this.style),this.title&&(document.title=this.title.innerText),this.ele){this.ele.classList.add("radiate-init","radiate-hide"),this.CONNECTED=!0,t.firstChild?t.insertBefore(this.ele,t.firstChild):t.appendChild(this.ele);for(let i of this.eles){let r=n&&i.ele.id?n.getElement(i.id):null;i.loadComponents(e,r)}}}up(t,e){for(let n of this.eles)n.down(t,e)}transitionStart(){this.ele&&this.ele.classList.remove("radiate-hide")}transitionOut(t){this.component&&this.component.transitionOut(0,0,!1,t)}transitionIn(t){this.component&&this.component.transitionIn(0,0,!1,t),this.ele&&this.ele.classList.remove("radiate-init")}transitionComplete(){this.component&&this.component.transitionInEnd()}setType(t,e){this.type=t||3,t==1&&this.ele&&(this.ele_backer||(this.ele_backer=document.createElement("div"),this.ele_backer.classList.add("modal_backer"),this.ele.insertBefore(this.ele_backer,this.ele.firstChild),this.ele_backer.addEventListener("click",n=>{n.target==this.ele_backer&&e.closeModal()})))}};var lr=async function(){}.constructor,hs={wurl:null};var Dn=X.get("radiate").activate();function cr(s){let t=document.getElementsByTagName("radiate-modals")[0];if(!t){t=document.createElement("radiate-modals");var e=document.getElementById("app");e?e.appendChild(t):document.body.appendChild(t),t.addEventListener("click",n=>{n.target==t&&s.closeModal()})}return t}var Tn=class{constructor(t){this.pages=new Map,this.elements={},this.component_constructors=null,this.models_constructors=null,this.current_url=null,this.current_query=null,this.current_view=null,this.IGNORE_NAVIGATION=!1,this.finalizing_pages=[],this.prev=null,this.prev_url=null,this.glow=Ai,this.wick=t,this.head_sigs=new Set,t.rt.context.api.router={default:null,page_uir:null,setHashSilently:e=>{history.replaceState(null,"",document.location.pathname+"#"+e),this.current_url.hash=e},setHash:e=>{document.location.hash=e},getHash:()=>document.location.hash,closeModal:e=>this.closeModal(e),setLocation:e=>{let n=new W(e);if(!n.host){if(n.IS_RELATIVE){let{path:i}=W.resolveRelative(n.path,this.current_url);n.path=i}n.host=W.GLOBAL.host,n.port=W.GLOBAL.port,n.protocol||(n.protocol=W.GLOBAL.protocol)}this.parseURL(n)}},t.rt.context.processLink=e=>{e.onclick||(e.onclick=n=>{let i=n.currentTarget;i.origin===location.origin&&(n.preventDefault(),history.pushState({},"ignored title",i.href),window&&window.onpopstate?.(n))})},this.modal_stack=[],this.current_url=new W,window.onpopstate=(e={})=>{if(this.IGNORE_NAVIGATION){this.IGNORE_NAVIGATION=!1;return}e.state&&e.state.modal_state?this.parseURL(e.state.modal_url):this.parseURL(document.location.toString())}}finalizePageDisconnects(){for(let t of this.finalizing_pages)t.finalizeDisconnect();this.finalizing_pages.length=0}closeModal(t={}){let e=this.modal_stack.length-1,n=this.modal_stack[e];if(n){n.SHOULD_CLOSE=!0,n.reply&&n.reply(t),n.reply=null;let i=this.modal_stack[e-1];if(i)return this.loadPage(i);if(this.prev_url)return history.replaceState({},"ignored title",this.prev_url.toString()),this.parseURL(this.prev_url.toString(),this.prev_url)}return new W(this.current_url+"")}async parseURL(t,e=new W(t),n=null){let i=e.toString(),r=this.current_url+""==e+"",o=null;if(this.pages.has(e.path)){if(o=this.pages.get(e.path),o.reply=n,r&&this.current_view==o&&this.modal_stack.length==0){hs.wurl=e,e.hash&&e.hash!=document.location.hash&&(document.location.hash=e.hash,Dn.log("hash updated"));return}}else if(t)try{let l=await e.fetchText(),c=new DOMParser().parseFromString(l,"text/html");o=await this.loadNewPage(e,c,n)}catch(l){Dn.warn(`Unable to process response for request made to: ${e}. Response: ${l}. Error Received: ${l}`)}o&&this.loadPage(o,e,r)}loadNonWickPage(t){let e=t.toString(),n=document.createElement("iframe"),i=new ge(t,n);return n.src=e,n.classList.add("modal","comp_wrap"),i.type=it.WICK_MODAL,this.pages.set(e,i),i}async loadPage(t,e=new W(document.location.href),n=!1){typeof e=="string"&&(e=new W(e)),this.wick.rt.context.api.router.page_url=e,hs.wurl=e;let i=this.glow.createTransition(!0),r=document.getElementById("app");if(!r)throw new Error("App element not found");let o=this.finalizing_pages,l=this.current_view;if(t.type==it.WICK_MODAL||t.type==it.WICK_TRANSITIONING_MODAL){t.SHOULD_CLOSE=!1;let c=new URL(this.prev_url?.toString()??this.current_url.toString());if(c.hash=`modal:${e.path}`,history.replaceState({modal_state:!0,modal_url:e.toString()},"ignored title",c.toString()),n)return;let h=t.type==it.WICK_TRANSITIONING_MODAL;if(this.modal_stack=this.modal_stack.reduce((u,m)=>(h||m.SHOULD_CLOSE?m!==t&&(m.primeDisconnect(),o.push(m),m.transitionOut(i)):u.push(m),u),[]),this.modal_stack.push(t),t.type!=it.WICK_TRANSITIONING_MODAL){t.connect(cr(this),e),t.transitionIn(i),t.transitionStart(),await i.asyncPlay(),t.transitionComplete(),this.finalizePageDisconnects();return}}else{this.prev_url=this.current_url,this.current_view=t,this.current_url=new W(e);for(let c of this.modal_stack)c.primeDisconnect(),c.transitionOut(i),o.push(c);this.modal_stack.length=0}n||(l&&l!=t?(l.primeDisconnect(),t.connect(r,e,l),l.transitionOut(i),o.push(l),t.transitionIn(i)):l||(t.connect(r,e),t.transitionIn(i))),i.set(10),n||t.transitionStart(),await i.asyncPlay(),n||t.transitionComplete(),this.finalizePageDisconnects();for(let c of Array.from(document.querySelectorAll("a")))this.wick.rt.context.processLink(c)}async loadNewPage(t=new W("",!0),e,n=null){typeof t=="string"&&(t=new W(t));let i=e.getElementById("app");var r=document.getElementById("app");if(!i)return Dn.warn("Page does not have an <app> element!"),this.loadNonWickPage(t);if(i&&r){var o=null;if(kn(e),document==e){let h=document.createElement("div");if(h.classList.add("radiate-app-view"),h.id="app",r.parentElement==document.body)r.parentElement.replaceChild(h,r);else throw new Error("Radiate app is not a top level element!");var l=document.createElement(r.tagName);l.classList.add(...r.classList.toString().split(" ")),l.append(...Array.from(i.childNodes)),h.appendChild(l),o=new ge(t,l),Array.from(e.head.children).map(m=>this.head_sigs.add(m.outerHTML));let u=e.getElementById("wick-app-style");u&&(o.style=u)}else{let h=e.getElementById("wick-component-script"),u=Array.from(e.head.children);document.head.append(...u.filter(_=>(_.tagName=="LINK"||_.tagName=="META")&&!this.head_sigs.has(_.outerHTML)).map(_=>(this.head_sigs.add(_.outerHTML),_)));let m=u.filter(_=>_.tagName=="TITLE")[0];h&&await lr("wick",h.innerHTML)(this.wick),await this.wick.rt.init_module_promise;let p=e.getElementById("wick-app-style");o=new ge(t,i,m),p&&(o.style=p.cloneNode(!0))}if(i.classList.contains("modal")||n){if(o.setType(it.WICK_MODAL,this),o.reply=n,e==document&&r){let h=document.createElement("app");document.body.replaceChild(h,r),r=h}}else i.dataset.modal=="transition"&&o.setType(it.WICK_TRANSITIONING_MODAL,this);let c=!1;return i.dataset.no_buffer=="true"&&(c=!0),c||this.pages.set(t.path,o),o}return null}};Ft();var us=!1;function ms(){if(je(z.RADIATE),!us)return us=!0,hr(),Ot}globalThis.wick=Ot;async function hr(){lt(z.WORKSPACE)&&Ot.rt.workspace_init_promise&&await Ot.rt.workspace_init_promise;try{Ot.rt.init_module_promise&&await Ot.rt.init_module_promise;let s=new Tn(Ot);Ot.rt.router=s;let t=await s.loadNewPage(document.location+"",document);if(t)document.readyState==="complete"?s.loadPage(t,location.href+"",!1):window.addEventListener("load",()=>{s.loadPage(t,location.href+"",!1)});else throw new Error("Unable to initialize page");document.body.hidden=!1}catch(s){console.warn(s)}document.body.classList.toggle("radiate-init")}export{Pn as McW5jR9wc,fs as radiate};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
